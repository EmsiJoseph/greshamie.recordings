"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/next-safe-action";
exports.ids = ["vendor-chunks/next-safe-action"];
exports.modules = {

/***/ "(ssr)/./node_modules/next-safe-action/dist/hooks.mjs":
/*!******************************************************!*\
  !*** ./node_modules/next-safe-action/dist/hooks.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useAction: () => (/* binding */ useAction),\n/* harmony export */   useOptimisticAction: () => (/* binding */ useOptimisticAction)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* __next_internal_client_entry_do_not_use__ useAction,useOptimisticAction auto */ // src/hooks.ts\n\n// src/hooks-utils.ts\n\nvar getActionStatus = ({ isIdle, isExecuting, result })=>{\n    if (isIdle) {\n        return \"idle\";\n    } else if (isExecuting) {\n        return \"executing\";\n    } else if (typeof result.validationErrors !== \"undefined\" || typeof result.bindArgsValidationErrors !== \"undefined\" || typeof result.serverError !== \"undefined\") {\n        return \"hasErrored\";\n    } else {\n        return \"hasSucceeded\";\n    }\n};\nvar getActionShorthandStatusObject = ({ status, isTransitioning })=>{\n    return {\n        isIdle: status === \"idle\",\n        isExecuting: status === \"executing\",\n        isTransitioning,\n        isPending: status === \"executing\" || isTransitioning,\n        hasSucceeded: status === \"hasSucceeded\",\n        hasErrored: status === \"hasErrored\"\n    };\n};\nvar useExecuteOnMount = (args)=>{\n    const mounted = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect({\n        \"useExecuteOnMount.useEffect\": ()=>{\n            const t = setTimeout({\n                \"useExecuteOnMount.useEffect.t\": ()=>{\n                    if (args.executeOnMount && !mounted.current) {\n                        args.executeFn(args.executeOnMount.input);\n                        mounted.current = true;\n                    }\n                }\n            }[\"useExecuteOnMount.useEffect.t\"], args.executeOnMount?.delayMs ?? 0);\n            return ({\n                \"useExecuteOnMount.useEffect\": ()=>{\n                    clearTimeout(t);\n                }\n            })[\"useExecuteOnMount.useEffect\"];\n        }\n    }[\"useExecuteOnMount.useEffect\"], [\n        args\n    ]);\n};\nvar useActionCallbacks = ({ result, input, status, cb })=>{\n    const onExecuteRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(cb?.onExecute);\n    const onSuccessRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(cb?.onSuccess);\n    const onErrorRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(cb?.onError);\n    const onSettledRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(cb?.onSettled);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect({\n        \"useActionCallbacks.useEffect\": ()=>{\n            const onExecute = onExecuteRef.current;\n            const onSuccess = onSuccessRef.current;\n            const onError = onErrorRef.current;\n            const onSettled = onSettledRef.current;\n            const executeCallbacks = {\n                \"useActionCallbacks.useEffect.executeCallbacks\": async ()=>{\n                    switch(status){\n                        case \"executing\":\n                            await Promise.resolve(onExecute?.({\n                                input\n                            }));\n                            break;\n                        case \"hasSucceeded\":\n                            await Promise.all([\n                                Promise.resolve(onSuccess?.({\n                                    data: result?.data,\n                                    input\n                                })),\n                                Promise.resolve(onSettled?.({\n                                    result,\n                                    input\n                                }))\n                            ]);\n                            break;\n                        case \"hasErrored\":\n                            await Promise.all([\n                                Promise.resolve(onError?.({\n                                    error: result,\n                                    input\n                                })),\n                                Promise.resolve(onSettled?.({\n                                    result,\n                                    input\n                                }))\n                            ]);\n                            break;\n                    }\n                }\n            }[\"useActionCallbacks.useEffect.executeCallbacks\"];\n            executeCallbacks().catch(console.error);\n        }\n    }[\"useActionCallbacks.useEffect\"], [\n        status,\n        result,\n        input\n    ]);\n};\n// src/hooks.ts\nvar useAction = (safeActionFn, utils)=>{\n    const [isTransitioning, startTransition] = react__WEBPACK_IMPORTED_MODULE_0__.useTransition();\n    const [result, setResult] = react__WEBPACK_IMPORTED_MODULE_0__.useState({});\n    const [clientInput, setClientInput] = react__WEBPACK_IMPORTED_MODULE_0__.useState();\n    const [isExecuting, setIsExecuting] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n    const [isIdle, setIsIdle] = react__WEBPACK_IMPORTED_MODULE_0__.useState(true);\n    const status = getActionStatus({\n        isExecuting,\n        result,\n        isIdle\n    });\n    const execute = react__WEBPACK_IMPORTED_MODULE_0__.useCallback({\n        \"useAction.useCallback[execute]\": (input)=>{\n            setTimeout({\n                \"useAction.useCallback[execute]\": ()=>{\n                    setIsIdle(false);\n                    setClientInput(input);\n                    setIsExecuting(true);\n                }\n            }[\"useAction.useCallback[execute]\"], 0);\n            startTransition({\n                \"useAction.useCallback[execute]\": ()=>{\n                    safeActionFn(input).then({\n                        \"useAction.useCallback[execute]\": (res)=>setResult(res ?? {})\n                    }[\"useAction.useCallback[execute]\"]).catch({\n                        \"useAction.useCallback[execute]\": (e)=>{\n                            throw e;\n                        }\n                    }[\"useAction.useCallback[execute]\"]).finally({\n                        \"useAction.useCallback[execute]\": ()=>{\n                            setIsExecuting(false);\n                        }\n                    }[\"useAction.useCallback[execute]\"]);\n                }\n            }[\"useAction.useCallback[execute]\"]);\n        }\n    }[\"useAction.useCallback[execute]\"], [\n        safeActionFn\n    ]);\n    const executeAsync = react__WEBPACK_IMPORTED_MODULE_0__.useCallback({\n        \"useAction.useCallback[executeAsync]\": (input)=>{\n            const fn = new Promise({\n                \"useAction.useCallback[executeAsync]\": (resolve, reject)=>{\n                    setTimeout({\n                        \"useAction.useCallback[executeAsync]\": ()=>{\n                            setIsIdle(false);\n                            setClientInput(input);\n                            setIsExecuting(true);\n                        }\n                    }[\"useAction.useCallback[executeAsync]\"], 0);\n                    startTransition({\n                        \"useAction.useCallback[executeAsync]\": ()=>{\n                            safeActionFn(input).then({\n                                \"useAction.useCallback[executeAsync]\": (res)=>{\n                                    setResult(res ?? {});\n                                    resolve(res);\n                                }\n                            }[\"useAction.useCallback[executeAsync]\"]).catch({\n                                \"useAction.useCallback[executeAsync]\": (e)=>{\n                                    reject(e);\n                                }\n                            }[\"useAction.useCallback[executeAsync]\"]).finally({\n                                \"useAction.useCallback[executeAsync]\": ()=>{\n                                    setIsExecuting(false);\n                                }\n                            }[\"useAction.useCallback[executeAsync]\"]);\n                        }\n                    }[\"useAction.useCallback[executeAsync]\"]);\n                }\n            }[\"useAction.useCallback[executeAsync]\"]);\n            return fn;\n        }\n    }[\"useAction.useCallback[executeAsync]\"], [\n        safeActionFn\n    ]);\n    const reset = react__WEBPACK_IMPORTED_MODULE_0__.useCallback({\n        \"useAction.useCallback[reset]\": ()=>{\n            setIsIdle(true);\n            setClientInput(void 0);\n            setResult({});\n        }\n    }[\"useAction.useCallback[reset]\"], []);\n    useExecuteOnMount({\n        executeOnMount: utils?.executeOnMount,\n        executeFn: execute\n    });\n    useActionCallbacks({\n        result: result ?? {},\n        input: clientInput,\n        status,\n        cb: {\n            onExecute: utils?.onExecute,\n            onSuccess: utils?.onSuccess,\n            onError: utils?.onError,\n            onSettled: utils?.onSettled\n        }\n    });\n    return {\n        execute,\n        executeAsync,\n        input: clientInput,\n        result,\n        reset,\n        status,\n        ...getActionShorthandStatusObject({\n            status,\n            isTransitioning\n        })\n    };\n};\nvar useOptimisticAction = (safeActionFn, utils)=>{\n    const [isTransitioning, startTransition] = react__WEBPACK_IMPORTED_MODULE_0__.useTransition();\n    const [result, setResult] = react__WEBPACK_IMPORTED_MODULE_0__.useState({});\n    const [clientInput, setClientInput] = react__WEBPACK_IMPORTED_MODULE_0__.useState();\n    const [isExecuting, setIsExecuting] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n    const [isIdle, setIsIdle] = react__WEBPACK_IMPORTED_MODULE_0__.useState(true);\n    const [optimisticState, setOptimisticValue] = react__WEBPACK_IMPORTED_MODULE_0__.useOptimistic(utils.currentState, utils.updateFn);\n    const status = getActionStatus({\n        isExecuting,\n        result,\n        isIdle\n    });\n    const execute = react__WEBPACK_IMPORTED_MODULE_0__.useCallback({\n        \"useOptimisticAction.useCallback[execute]\": (input)=>{\n            setTimeout({\n                \"useOptimisticAction.useCallback[execute]\": ()=>{\n                    setIsIdle(false);\n                    setClientInput(input);\n                    setIsExecuting(true);\n                }\n            }[\"useOptimisticAction.useCallback[execute]\"], 0);\n            startTransition({\n                \"useOptimisticAction.useCallback[execute]\": ()=>{\n                    setOptimisticValue(input);\n                    safeActionFn(input).then({\n                        \"useOptimisticAction.useCallback[execute]\": (res)=>setResult(res ?? {})\n                    }[\"useOptimisticAction.useCallback[execute]\"]).catch({\n                        \"useOptimisticAction.useCallback[execute]\": (e)=>{\n                            throw e;\n                        }\n                    }[\"useOptimisticAction.useCallback[execute]\"]).finally({\n                        \"useOptimisticAction.useCallback[execute]\": ()=>{\n                            setIsExecuting(false);\n                        }\n                    }[\"useOptimisticAction.useCallback[execute]\"]);\n                }\n            }[\"useOptimisticAction.useCallback[execute]\"]);\n        }\n    }[\"useOptimisticAction.useCallback[execute]\"], [\n        safeActionFn,\n        setOptimisticValue\n    ]);\n    const executeAsync = react__WEBPACK_IMPORTED_MODULE_0__.useCallback({\n        \"useOptimisticAction.useCallback[executeAsync]\": (input)=>{\n            const fn = new Promise({\n                \"useOptimisticAction.useCallback[executeAsync]\": (resolve, reject)=>{\n                    setTimeout({\n                        \"useOptimisticAction.useCallback[executeAsync]\": ()=>{\n                            setIsIdle(false);\n                            setClientInput(input);\n                            setIsExecuting(true);\n                        }\n                    }[\"useOptimisticAction.useCallback[executeAsync]\"], 0);\n                    startTransition({\n                        \"useOptimisticAction.useCallback[executeAsync]\": ()=>{\n                            setOptimisticValue(input);\n                            safeActionFn(input).then({\n                                \"useOptimisticAction.useCallback[executeAsync]\": (res)=>{\n                                    setResult(res ?? {});\n                                    resolve(res);\n                                }\n                            }[\"useOptimisticAction.useCallback[executeAsync]\"]).catch({\n                                \"useOptimisticAction.useCallback[executeAsync]\": (e)=>{\n                                    reject(e);\n                                }\n                            }[\"useOptimisticAction.useCallback[executeAsync]\"]).finally({\n                                \"useOptimisticAction.useCallback[executeAsync]\": ()=>{\n                                    setIsExecuting(false);\n                                }\n                            }[\"useOptimisticAction.useCallback[executeAsync]\"]);\n                        }\n                    }[\"useOptimisticAction.useCallback[executeAsync]\"]);\n                }\n            }[\"useOptimisticAction.useCallback[executeAsync]\"]);\n            return fn;\n        }\n    }[\"useOptimisticAction.useCallback[executeAsync]\"], [\n        safeActionFn,\n        setOptimisticValue\n    ]);\n    const reset = react__WEBPACK_IMPORTED_MODULE_0__.useCallback({\n        \"useOptimisticAction.useCallback[reset]\": ()=>{\n            setIsIdle(true);\n            setClientInput(void 0);\n            setResult({});\n        }\n    }[\"useOptimisticAction.useCallback[reset]\"], []);\n    useExecuteOnMount({\n        executeOnMount: utils?.executeOnMount,\n        executeFn: execute\n    });\n    useActionCallbacks({\n        result: result ?? {},\n        input: clientInput,\n        status,\n        cb: {\n            onExecute: utils.onExecute,\n            onSuccess: utils.onSuccess,\n            onError: utils.onError,\n            onSettled: utils.onSettled\n        }\n    });\n    return {\n        execute,\n        executeAsync,\n        input: clientInput,\n        result,\n        optimisticState,\n        reset,\n        status,\n        ...getActionShorthandStatusObject({\n            status,\n            isTransitioning\n        })\n    };\n};\n //# sourceMappingURL=hooks.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC1zYWZlLWFjdGlvbi9kaXN0L2hvb2tzLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBRXVCOztBQ0ZBO0FBT2hCLElBQU0sa0JBQWtCLENBTzdCO0lBQUEsQ0FDRDtRQUNBO0lBQUEsQ0FDQTtRQUNELElBSXdCO0lBQ3ZCLEtBQUksTUFDSCxFQURXLEtBQ1gsRUFBTyx5Q0FDUixXQUFXLGFBQWEsa0NBQ3ZCLFNBQU8sa0NBQ1I7UUFLQyxTQUFPO0lBQUEsQ0FDUixPQUFPO1FBQ04sU0FBTztJQUFBLENBQ1I7QUFDRDtBQUVPLElBQU0saUNBQWlDLENBQUM7SUFBQSxDQUM5QztRQUNBO1FBQ0QsSUFHMkI7UUFDMUIsT0FBTztRQUFBLEVBQ04sUUFBUSxXQUFXO1FBQUEsRUFDbkIsYUFBYSxXQUFXO1FBQUEsRUFDeEI7SUFBQTtBQUNxQztBQUNaLElBQ3pCLFlBQVksV0FBVztJQUFBLENBQ3hCO0lBQ0Q7dUNBQUE7WUFFTyxFQUFNO2lEQUFBLENBQW9CLENBQ2hDO29CQUlBLEtBQU0sVUFBZ0IsYUFBTyxLQUFLO3dCQUU1QixjQUFVLE1BQU07d0JBQ3JCLE1BQU0sSUFBSSxXQUFXO29CQUNwQjtnQkFDQztnREFBQSxRQUFLLFVBQVUsS0FBSztZQUNwQjsrQ0FBQTtvQkFBa0IsR0FDbkI7Z0JBQUE7O1FBR0Q7c0NBQUE7UUFBQTtLQUFBLENBQU87QUFDTjtBQUFjLElBQ2Y7SUFBQSxDQUNELEdBQUcsQ0FBQyxJQUFJLENBQUM7SUFDVjtJQUVPLEdBQU0seURBT1g7SUFBQSxDQUNEO0lBQUEsNENBQ0E7d0NBQUE7WUFDQTtZQUNBO1lBQ0QsSUFLTTtZQUNMLE1BQU0sZUFBcUIsYUFBTyxJQUFJO1lBQ3RDLE1BQU0sZUFBcUI7aUVBQUEsU0FBTztvQkFDbEMsS0FBTTt3QkFDTixJQUFNOzRCQUdBLGFBQVUsTUFBTTtnQ0FBQTs0QkFBQTs0QkFDckIsS0FBTTt3QkFDTixNQUFNLFlBQVk7NEJBQ2xCLEtBQU0sVUFBVTtnQ0FD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QUNBLEdBQUc7UUFDSjtZQUFBO1lBQUE7UUFBQTtJQUNEIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEpvaG5DaHJpc3RpYW5CZXJib25cXERvY3VtZW50c1xcQmVyYm9uIC0gVHJhaW5pbmdcXEZST05URU5EXFxHcmVzaGFtJTIwUmVjb3JkaW5nc1xcc3JjXFxob29rcy50cyIsIkM6XFxVc2Vyc1xcSm9obkNocmlzdGlhbkJlcmJvblxcRG9jdW1lbnRzXFxCZXJib24gLSBUcmFpbmluZ1xcRlJPTlRFTkRcXEdyZXNoYW0lMjBSZWNvcmRpbmdzXFxzcmNcXGhvb2tzLXV0aWxzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7fSBmcm9tIFwicmVhY3QvZXhwZXJpbWVudGFsXCI7XG5pbXBvcnQgdHlwZSB7fSBmcm9tIFwiem9kXCI7XG5pbXBvcnQgdHlwZSB7IEluZmVySW4sIFNjaGVtYSB9IGZyb20gXCIuL2FkYXB0ZXJzL3R5cGVzXCI7XG5pbXBvcnQgeyBnZXRBY3Rpb25TaG9ydGhhbmRTdGF0dXNPYmplY3QsIGdldEFjdGlvblN0YXR1cywgdXNlQWN0aW9uQ2FsbGJhY2tzLCB1c2VFeGVjdXRlT25Nb3VudCB9IGZyb20gXCIuL2hvb2tzLXV0aWxzXCI7XG5pbXBvcnQgdHlwZSB7XG5cdEhvb2tCYXNlVXRpbHMsXG5cdEhvb2tDYWxsYmFja3MsXG5cdEhvb2tTYWZlQWN0aW9uRm4sXG5cdFVzZUFjdGlvbkhvb2tSZXR1cm4sXG5cdFVzZU9wdGltaXN0aWNBY3Rpb25Ib29rUmV0dXJuLFxufSBmcm9tIFwiLi9ob29rcy50eXBlc1wiO1xuaW1wb3J0IHR5cGUgeyBTYWZlQWN0aW9uUmVzdWx0IH0gZnJvbSBcIi4vaW5kZXgudHlwZXNcIjtcblxuLy8gSE9PS1NcblxuLyoqXG4gKiBVc2UgdGhlIGFjdGlvbiBmcm9tIGEgQ2xpZW50IENvbXBvbmVudCB2aWEgaG9vay5cbiAqIEBwYXJhbSBzYWZlQWN0aW9uRm4gVGhlIGFjdGlvbiBmdW5jdGlvblxuICogQHBhcmFtIHV0aWxzIE9wdGlvbmFsIGJhc2UgdXRpbHMgYW5kIGNhbGxiYWNrc1xuICpcbiAqIHtAbGluayBodHRwczovL25leHQtc2FmZS1hY3Rpb24uZGV2L2RvY3MvZXhlY3V0ZS1hY3Rpb25zL2hvb2tzL3VzZWFjdGlvbiBTZWUgZG9jcyBmb3IgbW9yZSBpbmZvcm1hdGlvbn1cbiAqL1xuZXhwb3J0IGNvbnN0IHVzZUFjdGlvbiA9IDxcblx0U2VydmVyRXJyb3IsXG5cdFMgZXh0ZW5kcyBTY2hlbWEgfCB1bmRlZmluZWQsXG5cdGNvbnN0IEJBUyBleHRlbmRzIHJlYWRvbmx5IFNjaGVtYVtdLFxuXHRDVkUsXG5cdENCQVZFLFxuXHREYXRhLFxuPihcblx0c2FmZUFjdGlvbkZuOiBIb29rU2FmZUFjdGlvbkZuPFNlcnZlckVycm9yLCBTLCBCQVMsIENWRSwgQ0JBVkUsIERhdGE+LFxuXHR1dGlscz86IEhvb2tCYXNlVXRpbHM8Uz4gJiBIb29rQ2FsbGJhY2tzPFNlcnZlckVycm9yLCBTLCBCQVMsIENWRSwgQ0JBVkUsIERhdGE+XG4pOiBVc2VBY3Rpb25Ib29rUmV0dXJuPFNlcnZlckVycm9yLCBTLCBCQVMsIENWRSwgQ0JBVkUsIERhdGE+ID0+IHtcblx0Y29uc3QgW2lzVHJhbnNpdGlvbmluZywgc3RhcnRUcmFuc2l0aW9uXSA9IFJlYWN0LnVzZVRyYW5zaXRpb24oKTtcblx0Y29uc3QgW3Jlc3VsdCwgc2V0UmVzdWx0XSA9IFJlYWN0LnVzZVN0YXRlPFNhZmVBY3Rpb25SZXN1bHQ8U2VydmVyRXJyb3IsIFMsIEJBUywgQ1ZFLCBDQkFWRSwgRGF0YT4+KHt9KTtcblx0Y29uc3QgW2NsaWVudElucHV0LCBzZXRDbGllbnRJbnB1dF0gPSBSZWFjdC51c2VTdGF0ZTxTIGV4dGVuZHMgU2NoZW1hID8gSW5mZXJJbjxTPiA6IHZvaWQ+KCk7XG5cdGNvbnN0IFtpc0V4ZWN1dGluZywgc2V0SXNFeGVjdXRpbmddID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuXHRjb25zdCBbaXNJZGxlLCBzZXRJc0lkbGVdID0gUmVhY3QudXNlU3RhdGUodHJ1ZSk7XG5cblx0Y29uc3Qgc3RhdHVzID0gZ2V0QWN0aW9uU3RhdHVzPFNlcnZlckVycm9yLCBTLCBCQVMsIENWRSwgQ0JBVkUsIERhdGE+KHsgaXNFeGVjdXRpbmcsIHJlc3VsdCwgaXNJZGxlIH0pO1xuXG5cdGNvbnN0IGV4ZWN1dGUgPSBSZWFjdC51c2VDYWxsYmFjayhcblx0XHQoaW5wdXQ6IFMgZXh0ZW5kcyBTY2hlbWEgPyBJbmZlckluPFM+IDogdm9pZCkgPT4ge1xuXHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdHNldElzSWRsZShmYWxzZSk7XG5cdFx0XHRcdHNldENsaWVudElucHV0KGlucHV0KTtcblx0XHRcdFx0c2V0SXNFeGVjdXRpbmcodHJ1ZSk7XG5cdFx0XHR9LCAwKTtcblxuXHRcdFx0c3RhcnRUcmFuc2l0aW9uKCgpID0+IHtcblx0XHRcdFx0c2FmZUFjdGlvbkZuKGlucHV0IGFzIFMgZXh0ZW5kcyBTY2hlbWEgPyBJbmZlckluPFM+IDogdW5kZWZpbmVkKVxuXHRcdFx0XHRcdC50aGVuKChyZXMpID0+IHNldFJlc3VsdChyZXMgPz8ge30pKVxuXHRcdFx0XHRcdC5jYXRjaCgoZSkgPT4ge1xuXHRcdFx0XHRcdFx0dGhyb3cgZTtcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdC5maW5hbGx5KCgpID0+IHtcblx0XHRcdFx0XHRcdHNldElzRXhlY3V0aW5nKGZhbHNlKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cdFx0W3NhZmVBY3Rpb25Gbl1cblx0KTtcblxuXHRjb25zdCBleGVjdXRlQXN5bmMgPSBSZWFjdC51c2VDYWxsYmFjayhcblx0XHQoaW5wdXQ6IFMgZXh0ZW5kcyBTY2hlbWEgPyBJbmZlckluPFM+IDogdm9pZCkgPT4ge1xuXHRcdFx0Y29uc3QgZm4gPSBuZXcgUHJvbWlzZTxBd2FpdGVkPFJldHVyblR5cGU8dHlwZW9mIHNhZmVBY3Rpb25Gbj4+PigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHRcdHNldElzSWRsZShmYWxzZSk7XG5cdFx0XHRcdFx0c2V0Q2xpZW50SW5wdXQoaW5wdXQpO1xuXHRcdFx0XHRcdHNldElzRXhlY3V0aW5nKHRydWUpO1xuXHRcdFx0XHR9LCAwKTtcblxuXHRcdFx0XHRzdGFydFRyYW5zaXRpb24oKCkgPT4ge1xuXHRcdFx0XHRcdHNhZmVBY3Rpb25GbihpbnB1dCBhcyBTIGV4dGVuZHMgU2NoZW1hID8gSW5mZXJJbjxTPiA6IHVuZGVmaW5lZClcblx0XHRcdFx0XHRcdC50aGVuKChyZXMpID0+IHtcblx0XHRcdFx0XHRcdFx0c2V0UmVzdWx0KHJlcyA/PyB7fSk7XG5cdFx0XHRcdFx0XHRcdHJlc29sdmUocmVzKTtcblx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHQuY2F0Y2goKGUpID0+IHtcblx0XHRcdFx0XHRcdFx0cmVqZWN0KGUpO1xuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRcdC5maW5hbGx5KCgpID0+IHtcblx0XHRcdFx0XHRcdFx0c2V0SXNFeGVjdXRpbmcoZmFsc2UpO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cblx0XHRcdHJldHVybiBmbjtcblx0XHR9LFxuXHRcdFtzYWZlQWN0aW9uRm5dXG5cdCk7XG5cblx0Y29uc3QgcmVzZXQgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG5cdFx0c2V0SXNJZGxlKHRydWUpO1xuXHRcdHNldENsaWVudElucHV0KHVuZGVmaW5lZCk7XG5cdFx0c2V0UmVzdWx0KHt9KTtcblx0fSwgW10pO1xuXG5cdHVzZUV4ZWN1dGVPbk1vdW50KHtcblx0XHRleGVjdXRlT25Nb3VudDogdXRpbHM/LmV4ZWN1dGVPbk1vdW50LFxuXHRcdGV4ZWN1dGVGbjogZXhlY3V0ZSxcblx0fSk7XG5cblx0dXNlQWN0aW9uQ2FsbGJhY2tzKHtcblx0XHRyZXN1bHQ6IHJlc3VsdCA/PyB7fSxcblx0XHRpbnB1dDogY2xpZW50SW5wdXQgYXMgUyBleHRlbmRzIFNjaGVtYSA/IEluZmVySW48Uz4gOiB1bmRlZmluZWQsXG5cdFx0c3RhdHVzLFxuXHRcdGNiOiB7XG5cdFx0XHRvbkV4ZWN1dGU6IHV0aWxzPy5vbkV4ZWN1dGUsXG5cdFx0XHRvblN1Y2Nlc3M6IHV0aWxzPy5vblN1Y2Nlc3MsXG5cdFx0XHRvbkVycm9yOiB1dGlscz8ub25FcnJvcixcblx0XHRcdG9uU2V0dGxlZDogdXRpbHM/Lm9uU2V0dGxlZCxcblx0XHR9LFxuXHR9KTtcblxuXHRyZXR1cm4ge1xuXHRcdGV4ZWN1dGUsXG5cdFx0ZXhlY3V0ZUFzeW5jLFxuXHRcdGlucHV0OiBjbGllbnRJbnB1dCBhcyBTIGV4dGVuZHMgU2NoZW1hID8gSW5mZXJJbjxTPiA6IHVuZGVmaW5lZCxcblx0XHRyZXN1bHQsXG5cdFx0cmVzZXQsXG5cdFx0c3RhdHVzLFxuXHRcdC4uLmdldEFjdGlvblNob3J0aGFuZFN0YXR1c09iamVjdCh7IHN0YXR1cywgaXNUcmFuc2l0aW9uaW5nIH0pLFxuXHR9O1xufTtcblxuLyoqXG4gKiBVc2UgdGhlIGFjdGlvbiBmcm9tIGEgQ2xpZW50IENvbXBvbmVudCB2aWEgaG9vaywgd2l0aCBvcHRpbWlzdGljIGRhdGEgdXBkYXRlLlxuICogQHBhcmFtIHNhZmVBY3Rpb25GbiBUaGUgYWN0aW9uIGZ1bmN0aW9uXG4gKiBAcGFyYW0gdXRpbHMgUmVxdWlyZWQgYGN1cnJlbnREYXRhYCBhbmQgYHVwZGF0ZUZuYCBhbmQgb3B0aW9uYWwgYmFzZSB1dGlscyBhbmQgY2FsbGJhY2tzXG4gKlxuICoge0BsaW5rIGh0dHBzOi8vbmV4dC1zYWZlLWFjdGlvbi5kZXYvZG9jcy9leGVjdXRlLWFjdGlvbnMvaG9va3MvdXNlb3B0aW1pc3RpY2FjdGlvbiBTZWUgZG9jcyBmb3IgbW9yZSBpbmZvcm1hdGlvbn1cbiAqL1xuZXhwb3J0IGNvbnN0IHVzZU9wdGltaXN0aWNBY3Rpb24gPSA8XG5cdFNlcnZlckVycm9yLFxuXHRTIGV4dGVuZHMgU2NoZW1hIHwgdW5kZWZpbmVkLFxuXHRjb25zdCBCQVMgZXh0ZW5kcyByZWFkb25seSBTY2hlbWFbXSxcblx0Q1ZFLFxuXHRDQkFWRSxcblx0RGF0YSxcblx0U3RhdGUsXG4+KFxuXHRzYWZlQWN0aW9uRm46IEhvb2tTYWZlQWN0aW9uRm48U2VydmVyRXJyb3IsIFMsIEJBUywgQ1ZFLCBDQkFWRSwgRGF0YT4sXG5cdHV0aWxzOiB7XG5cdFx0Y3VycmVudFN0YXRlOiBTdGF0ZTtcblx0XHR1cGRhdGVGbjogKHN0YXRlOiBTdGF0ZSwgaW5wdXQ6IFMgZXh0ZW5kcyBTY2hlbWEgPyBJbmZlckluPFM+IDogdW5kZWZpbmVkKSA9PiBTdGF0ZTtcblx0fSAmIEhvb2tCYXNlVXRpbHM8Uz4gJlxuXHRcdEhvb2tDYWxsYmFja3M8U2VydmVyRXJyb3IsIFMsIEJBUywgQ1ZFLCBDQkFWRSwgRGF0YT5cbik6IFVzZU9wdGltaXN0aWNBY3Rpb25Ib29rUmV0dXJuPFNlcnZlckVycm9yLCBTLCBCQVMsIENWRSwgQ0JBVkUsIERhdGEsIFN0YXRlPiA9PiB7XG5cdGNvbnN0IFtpc1RyYW5zaXRpb25pbmcsIHN0YXJ0VHJhbnNpdGlvbl0gPSBSZWFjdC51c2VUcmFuc2l0aW9uKCk7XG5cdGNvbnN0IFtyZXN1bHQsIHNldFJlc3VsdF0gPSBSZWFjdC51c2VTdGF0ZTxTYWZlQWN0aW9uUmVzdWx0PFNlcnZlckVycm9yLCBTLCBCQVMsIENWRSwgQ0JBVkUsIERhdGE+Pih7fSk7XG5cdGNvbnN0IFtjbGllbnRJbnB1dCwgc2V0Q2xpZW50SW5wdXRdID0gUmVhY3QudXNlU3RhdGU8UyBleHRlbmRzIFNjaGVtYSA/IEluZmVySW48Uz4gOiB2b2lkPigpO1xuXHRjb25zdCBbaXNFeGVjdXRpbmcsIHNldElzRXhlY3V0aW5nXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcblx0Y29uc3QgW2lzSWRsZSwgc2V0SXNJZGxlXSA9IFJlYWN0LnVzZVN0YXRlKHRydWUpO1xuXHRjb25zdCBbb3B0aW1pc3RpY1N0YXRlLCBzZXRPcHRpbWlzdGljVmFsdWVdID0gUmVhY3QudXNlT3B0aW1pc3RpYzxTdGF0ZSwgUyBleHRlbmRzIFNjaGVtYSA/IEluZmVySW48Uz4gOiB1bmRlZmluZWQ+KFxuXHRcdHV0aWxzLmN1cnJlbnRTdGF0ZSxcblx0XHR1dGlscy51cGRhdGVGblxuXHQpO1xuXG5cdGNvbnN0IHN0YXR1cyA9IGdldEFjdGlvblN0YXR1czxTZXJ2ZXJFcnJvciwgUywgQkFTLCBDVkUsIENCQVZFLCBEYXRhPih7IGlzRXhlY3V0aW5nLCByZXN1bHQsIGlzSWRsZSB9KTtcblxuXHRjb25zdCBleGVjdXRlID0gUmVhY3QudXNlQ2FsbGJhY2soXG5cdFx0KGlucHV0OiBTIGV4dGVuZHMgU2NoZW1hID8gSW5mZXJJbjxTPiA6IHZvaWQpID0+IHtcblx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHRzZXRJc0lkbGUoZmFsc2UpO1xuXHRcdFx0XHRzZXRDbGllbnRJbnB1dChpbnB1dCk7XG5cdFx0XHRcdHNldElzRXhlY3V0aW5nKHRydWUpO1xuXHRcdFx0fSwgMCk7XG5cblx0XHRcdHN0YXJ0VHJhbnNpdGlvbigoKSA9PiB7XG5cdFx0XHRcdHNldE9wdGltaXN0aWNWYWx1ZShpbnB1dCBhcyBTIGV4dGVuZHMgU2NoZW1hID8gSW5mZXJJbjxTPiA6IHVuZGVmaW5lZCk7XG5cdFx0XHRcdHNhZmVBY3Rpb25GbihpbnB1dCBhcyBTIGV4dGVuZHMgU2NoZW1hID8gSW5mZXJJbjxTPiA6IHVuZGVmaW5lZClcblx0XHRcdFx0XHQudGhlbigocmVzKSA9PiBzZXRSZXN1bHQocmVzID8/IHt9KSlcblx0XHRcdFx0XHQuY2F0Y2goKGUpID0+IHtcblx0XHRcdFx0XHRcdHRocm93IGU7XG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0XHQuZmluYWxseSgoKSA9PiB7XG5cdFx0XHRcdFx0XHRzZXRJc0V4ZWN1dGluZyhmYWxzZSk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXHRcdFtzYWZlQWN0aW9uRm4sIHNldE9wdGltaXN0aWNWYWx1ZV1cblx0KTtcblxuXHRjb25zdCBleGVjdXRlQXN5bmMgPSBSZWFjdC51c2VDYWxsYmFjayhcblx0XHQoaW5wdXQ6IFMgZXh0ZW5kcyBTY2hlbWEgPyBJbmZlckluPFM+IDogdm9pZCkgPT4ge1xuXHRcdFx0Y29uc3QgZm4gPSBuZXcgUHJvbWlzZTxBd2FpdGVkPFJldHVyblR5cGU8dHlwZW9mIHNhZmVBY3Rpb25Gbj4+PigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHRcdHNldElzSWRsZShmYWxzZSk7XG5cdFx0XHRcdFx0c2V0Q2xpZW50SW5wdXQoaW5wdXQpO1xuXHRcdFx0XHRcdHNldElzRXhlY3V0aW5nKHRydWUpO1xuXHRcdFx0XHR9LCAwKTtcblxuXHRcdFx0XHRzdGFydFRyYW5zaXRpb24oKCkgPT4ge1xuXHRcdFx0XHRcdHNldE9wdGltaXN0aWNWYWx1ZShpbnB1dCBhcyBTIGV4dGVuZHMgU2NoZW1hID8gSW5mZXJJbjxTPiA6IHVuZGVmaW5lZCk7XG5cdFx0XHRcdFx0c2FmZUFjdGlvbkZuKGlucHV0IGFzIFMgZXh0ZW5kcyBTY2hlbWEgPyBJbmZlckluPFM+IDogdW5kZWZpbmVkKVxuXHRcdFx0XHRcdFx0LnRoZW4oKHJlcykgPT4ge1xuXHRcdFx0XHRcdFx0XHRzZXRSZXN1bHQocmVzID8/IHt9KTtcblx0XHRcdFx0XHRcdFx0cmVzb2x2ZShyZXMpO1xuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRcdC5jYXRjaCgoZSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRyZWplY3QoZSk7XG5cdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdFx0LmZpbmFsbHkoKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRzZXRJc0V4ZWN1dGluZyhmYWxzZSk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblxuXHRcdFx0cmV0dXJuIGZuO1xuXHRcdH0sXG5cdFx0W3NhZmVBY3Rpb25Gbiwgc2V0T3B0aW1pc3RpY1ZhbHVlXVxuXHQpO1xuXG5cdGNvbnN0IHJlc2V0ID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuXHRcdHNldElzSWRsZSh0cnVlKTtcblx0XHRzZXRDbGllbnRJbnB1dCh1bmRlZmluZWQpO1xuXHRcdHNldFJlc3VsdCh7fSk7XG5cdH0sIFtdKTtcblxuXHR1c2VFeGVjdXRlT25Nb3VudCh7XG5cdFx0ZXhlY3V0ZU9uTW91bnQ6IHV0aWxzPy5leGVjdXRlT25Nb3VudCxcblx0XHRleGVjdXRlRm46IGV4ZWN1dGUsXG5cdH0pO1xuXG5cdHVzZUFjdGlvbkNhbGxiYWNrcyh7XG5cdFx0cmVzdWx0OiByZXN1bHQgPz8ge30sXG5cdFx0aW5wdXQ6IGNsaWVudElucHV0IGFzIFMgZXh0ZW5kcyBTY2hlbWEgPyBJbmZlckluPFM+IDogdW5kZWZpbmVkLFxuXHRcdHN0YXR1cyxcblx0XHRjYjoge1xuXHRcdFx0b25FeGVjdXRlOiB1dGlscy5vbkV4ZWN1dGUsXG5cdFx0XHRvblN1Y2Nlc3M6IHV0aWxzLm9uU3VjY2Vzcyxcblx0XHRcdG9uRXJyb3I6IHV0aWxzLm9uRXJyb3IsXG5cdFx0XHRvblNldHRsZWQ6IHV0aWxzLm9uU2V0dGxlZCxcblx0XHR9LFxuXHR9KTtcblxuXHRyZXR1cm4ge1xuXHRcdGV4ZWN1dGUsXG5cdFx0ZXhlY3V0ZUFzeW5jLFxuXHRcdGlucHV0OiBjbGllbnRJbnB1dCBhcyBTIGV4dGVuZHMgU2NoZW1hID8gSW5mZXJJbjxTPiA6IHVuZGVmaW5lZCxcblx0XHRyZXN1bHQsXG5cdFx0b3B0aW1pc3RpY1N0YXRlLFxuXHRcdHJlc2V0LFxuXHRcdHN0YXR1cyxcblx0XHQuLi5nZXRBY3Rpb25TaG9ydGhhbmRTdGF0dXNPYmplY3QoeyBzdGF0dXMsIGlzVHJhbnNpdGlvbmluZyB9KSxcblx0fTtcbn07XG5cbmV4cG9ydCB0eXBlICogZnJvbSBcIi4vaG9va3MudHlwZXNcIjtcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHt9IGZyb20gXCJyZWFjdC9leHBlcmltZW50YWxcIjtcbmltcG9ydCB0eXBlIHt9IGZyb20gXCJ6b2RcIjtcbmltcG9ydCB0eXBlIHsgSW5mZXJJbiwgU2NoZW1hIH0gZnJvbSBcIi4vYWRhcHRlcnMvdHlwZXNcIjtcbmltcG9ydCB0eXBlIHsgSG9va0FjdGlvblN0YXR1cywgSG9va0Jhc2VVdGlscywgSG9va0NhbGxiYWNrcywgSG9va1Nob3J0aGFuZFN0YXR1cyB9IGZyb20gXCIuL2hvb2tzLnR5cGVzXCI7XG5pbXBvcnQgdHlwZSB7IFNhZmVBY3Rpb25SZXN1bHQgfSBmcm9tIFwiLi9pbmRleC50eXBlc1wiO1xuXG5leHBvcnQgY29uc3QgZ2V0QWN0aW9uU3RhdHVzID0gPFxuXHRTZXJ2ZXJFcnJvcixcblx0UyBleHRlbmRzIFNjaGVtYSB8IHVuZGVmaW5lZCxcblx0Y29uc3QgQkFTIGV4dGVuZHMgcmVhZG9ubHkgU2NoZW1hW10sXG5cdENWRSxcblx0Q0JBVkUsXG5cdERhdGEsXG4+KHtcblx0aXNJZGxlLFxuXHRpc0V4ZWN1dGluZyxcblx0cmVzdWx0LFxufToge1xuXHRpc0lkbGU6IGJvb2xlYW47XG5cdGlzRXhlY3V0aW5nOiBib29sZWFuO1xuXHRyZXN1bHQ6IFNhZmVBY3Rpb25SZXN1bHQ8U2VydmVyRXJyb3IsIFMsIEJBUywgQ1ZFLCBDQkFWRSwgRGF0YT47XG59KTogSG9va0FjdGlvblN0YXR1cyA9PiB7XG5cdGlmIChpc0lkbGUpIHtcblx0XHRyZXR1cm4gXCJpZGxlXCI7XG5cdH0gZWxzZSBpZiAoaXNFeGVjdXRpbmcpIHtcblx0XHRyZXR1cm4gXCJleGVjdXRpbmdcIjtcblx0fSBlbHNlIGlmIChcblx0XHR0eXBlb2YgcmVzdWx0LnZhbGlkYXRpb25FcnJvcnMgIT09IFwidW5kZWZpbmVkXCIgfHxcblx0XHR0eXBlb2YgcmVzdWx0LmJpbmRBcmdzVmFsaWRhdGlvbkVycm9ycyAhPT0gXCJ1bmRlZmluZWRcIiB8fFxuXHRcdHR5cGVvZiByZXN1bHQuc2VydmVyRXJyb3IgIT09IFwidW5kZWZpbmVkXCJcblx0KSB7XG5cdFx0cmV0dXJuIFwiaGFzRXJyb3JlZFwiO1xuXHR9IGVsc2Uge1xuXHRcdHJldHVybiBcImhhc1N1Y2NlZWRlZFwiO1xuXHR9XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0QWN0aW9uU2hvcnRoYW5kU3RhdHVzT2JqZWN0ID0gKHtcblx0c3RhdHVzLFxuXHRpc1RyYW5zaXRpb25pbmcsXG59OiB7XG5cdHN0YXR1czogSG9va0FjdGlvblN0YXR1cztcblx0aXNUcmFuc2l0aW9uaW5nOiBib29sZWFuO1xufSk6IEhvb2tTaG9ydGhhbmRTdGF0dXMgPT4ge1xuXHRyZXR1cm4ge1xuXHRcdGlzSWRsZTogc3RhdHVzID09PSBcImlkbGVcIixcblx0XHRpc0V4ZWN1dGluZzogc3RhdHVzID09PSBcImV4ZWN1dGluZ1wiLFxuXHRcdGlzVHJhbnNpdGlvbmluZyxcblx0XHRpc1BlbmRpbmc6IHN0YXR1cyA9PT0gXCJleGVjdXRpbmdcIiB8fCBpc1RyYW5zaXRpb25pbmcsXG5cdFx0aGFzU3VjY2VlZGVkOiBzdGF0dXMgPT09IFwiaGFzU3VjY2VlZGVkXCIsXG5cdFx0aGFzRXJyb3JlZDogc3RhdHVzID09PSBcImhhc0Vycm9yZWRcIixcblx0fTtcbn07XG5cbmV4cG9ydCBjb25zdCB1c2VFeGVjdXRlT25Nb3VudCA9IDxTIGV4dGVuZHMgU2NoZW1hIHwgdW5kZWZpbmVkPihcblx0YXJnczogSG9va0Jhc2VVdGlsczxTPiAmIHtcblx0XHRleGVjdXRlRm46IChpbnB1dDogUyBleHRlbmRzIFNjaGVtYSA/IEluZmVySW48Uz4gOiB2b2lkKSA9PiB2b2lkO1xuXHR9XG4pID0+IHtcblx0Y29uc3QgbW91bnRlZCA9IFJlYWN0LnVzZVJlZihmYWxzZSk7XG5cblx0UmVhY3QudXNlRWZmZWN0KCgpID0+IHtcblx0XHRjb25zdCB0ID0gc2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRpZiAoYXJncy5leGVjdXRlT25Nb3VudCAmJiAhbW91bnRlZC5jdXJyZW50KSB7XG5cdFx0XHRcdGFyZ3MuZXhlY3V0ZUZuKGFyZ3MuZXhlY3V0ZU9uTW91bnQuaW5wdXQgYXMgUyBleHRlbmRzIFNjaGVtYSA/IEluZmVySW48Uz4gOiB2b2lkKTtcblx0XHRcdFx0bW91bnRlZC5jdXJyZW50ID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9LCBhcmdzLmV4ZWN1dGVPbk1vdW50Py5kZWxheU1zID8/IDApO1xuXG5cdFx0cmV0dXJuICgpID0+IHtcblx0XHRcdGNsZWFyVGltZW91dCh0KTtcblx0XHR9O1xuXHR9LCBbYXJnc10pO1xufTtcblxuZXhwb3J0IGNvbnN0IHVzZUFjdGlvbkNhbGxiYWNrcyA9IDxcblx0U2VydmVyRXJyb3IsXG5cdFMgZXh0ZW5kcyBTY2hlbWEgfCB1bmRlZmluZWQsXG5cdGNvbnN0IEJBUyBleHRlbmRzIHJlYWRvbmx5IFNjaGVtYVtdLFxuXHRDVkUsXG5cdENCQVZFLFxuXHREYXRhLFxuPih7XG5cdHJlc3VsdCxcblx0aW5wdXQsXG5cdHN0YXR1cyxcblx0Y2IsXG59OiB7XG5cdHJlc3VsdDogU2FmZUFjdGlvblJlc3VsdDxTZXJ2ZXJFcnJvciwgUywgQkFTLCBDVkUsIENCQVZFLCBEYXRhPjtcblx0aW5wdXQ6IFMgZXh0ZW5kcyBTY2hlbWEgPyBJbmZlckluPFM+IDogdW5kZWZpbmVkO1xuXHRzdGF0dXM6IEhvb2tBY3Rpb25TdGF0dXM7XG5cdGNiPzogSG9va0NhbGxiYWNrczxTZXJ2ZXJFcnJvciwgUywgQkFTLCBDVkUsIENCQVZFLCBEYXRhPjtcbn0pID0+IHtcblx0Y29uc3Qgb25FeGVjdXRlUmVmID0gUmVhY3QudXNlUmVmKGNiPy5vbkV4ZWN1dGUpO1xuXHRjb25zdCBvblN1Y2Nlc3NSZWYgPSBSZWFjdC51c2VSZWYoY2I/Lm9uU3VjY2Vzcyk7XG5cdGNvbnN0IG9uRXJyb3JSZWYgPSBSZWFjdC51c2VSZWYoY2I/Lm9uRXJyb3IpO1xuXHRjb25zdCBvblNldHRsZWRSZWYgPSBSZWFjdC51c2VSZWYoY2I/Lm9uU2V0dGxlZCk7XG5cblx0Ly8gRXhlY3V0ZSB0aGUgY2FsbGJhY2sgd2hlbiB0aGUgYWN0aW9uIHN0YXR1cyBjaGFuZ2VzLlxuXHRSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuXHRcdGNvbnN0IG9uRXhlY3V0ZSA9IG9uRXhlY3V0ZVJlZi5jdXJyZW50O1xuXHRcdGNvbnN0IG9uU3VjY2VzcyA9IG9uU3VjY2Vzc1JlZi5jdXJyZW50O1xuXHRcdGNvbnN0IG9uRXJyb3IgPSBvbkVycm9yUmVmLmN1cnJlbnQ7XG5cdFx0Y29uc3Qgb25TZXR0bGVkID0gb25TZXR0bGVkUmVmLmN1cnJlbnQ7XG5cblx0XHRjb25zdCBleGVjdXRlQ2FsbGJhY2tzID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0c3dpdGNoIChzdGF0dXMpIHtcblx0XHRcdFx0Y2FzZSBcImV4ZWN1dGluZ1wiOlxuXHRcdFx0XHRcdGF3YWl0IFByb21pc2UucmVzb2x2ZShvbkV4ZWN1dGU/Lih7IGlucHV0IH0pKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcImhhc1N1Y2NlZWRlZFwiOlxuXHRcdFx0XHRcdGF3YWl0IFByb21pc2UuYWxsKFtcblx0XHRcdFx0XHRcdFByb21pc2UucmVzb2x2ZShvblN1Y2Nlc3M/Lih7IGRhdGE6IHJlc3VsdD8uZGF0YSwgaW5wdXQgfSkpLFxuXHRcdFx0XHRcdFx0UHJvbWlzZS5yZXNvbHZlKG9uU2V0dGxlZD8uKHsgcmVzdWx0LCBpbnB1dCB9KSksXG5cdFx0XHRcdFx0XSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgXCJoYXNFcnJvcmVkXCI6XG5cdFx0XHRcdFx0YXdhaXQgUHJvbWlzZS5hbGwoW1xuXHRcdFx0XHRcdFx0UHJvbWlzZS5yZXNvbHZlKG9uRXJyb3I/Lih7IGVycm9yOiByZXN1bHQsIGlucHV0IH0pKSxcblx0XHRcdFx0XHRcdFByb21pc2UucmVzb2x2ZShvblNldHRsZWQ/Lih7IHJlc3VsdCwgaW5wdXQgfSkpLFxuXHRcdFx0XHRcdF0pO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRleGVjdXRlQ2FsbGJhY2tzKCkuY2F0Y2goY29uc29sZS5lcnJvcik7XG5cdH0sIFtzdGF0dXMsIHJlc3VsdCwgaW5wdXRdKTtcbn07XG4iXSwibmFtZXMiOlsiUmVhY3QiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next-safe-action/dist/hooks.mjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/next-safe-action/dist/index.mjs":
/*!******************************************************!*\
  !*** ./node_modules/next-safe-action/dist/index.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ActionMetadataValidationError: () => (/* binding */ ActionMetadataValidationError),\n/* harmony export */   ActionOutputDataValidationError: () => (/* binding */ ActionOutputDataValidationError),\n/* harmony export */   ActionValidationError: () => (/* binding */ ActionValidationError),\n/* harmony export */   DEFAULT_SERVER_ERROR_MESSAGE: () => (/* binding */ DEFAULT_SERVER_ERROR_MESSAGE),\n/* harmony export */   createMiddleware: () => (/* binding */ createMiddleware),\n/* harmony export */   createSafeActionClient: () => (/* binding */ createSafeActionClient),\n/* harmony export */   flattenBindArgsValidationErrors: () => (/* binding */ flattenBindArgsValidationErrors),\n/* harmony export */   flattenValidationErrors: () => (/* binding */ flattenValidationErrors),\n/* harmony export */   formatBindArgsValidationErrors: () => (/* binding */ formatBindArgsValidationErrors),\n/* harmony export */   formatValidationErrors: () => (/* binding */ formatValidationErrors),\n/* harmony export */   returnValidationErrors: () => (/* binding */ returnValidationErrors)\n/* harmony export */ });\n// src/adapters/zod.ts\nvar ZodAdapter = class {\n\tasync validate(schema, data) {\n\t\tconst result = await schema.safeParseAsync(data);\n\t\tif (result.success) {\n\t\t\treturn {\n\t\t\t\tsuccess: true,\n\t\t\t\tdata: result.data,\n\t\t\t};\n\t\t}\n\t\treturn {\n\t\t\tsuccess: false,\n\t\t\tissues: result.error.issues.map(({ message, path }) => ({ message, path })),\n\t\t};\n\t}\n};\nfunction zodAdapter() {\n\treturn new ZodAdapter();\n}\n\n// ../../node_modules/.pnpm/deepmerge-ts@7.1.3/node_modules/deepmerge-ts/dist/index.mjs\nvar actions = {\n\tdefaultMerge: Symbol(\"deepmerge-ts: default merge\"),\n\tskip: Symbol(\"deepmerge-ts: skip\"),\n};\nvar actionsInto = {\n\tdefaultMerge: actions.defaultMerge,\n};\nfunction defaultMetaDataUpdater(previousMeta, metaMeta) {\n\treturn metaMeta;\n}\nfunction defaultFilterValues(values, meta) {\n\treturn values.filter((value) => value !== void 0);\n}\nvar ObjectType;\n(function (ObjectType2) {\n\tObjectType2[(ObjectType2[\"NOT\"] = 0)] = \"NOT\";\n\tObjectType2[(ObjectType2[\"RECORD\"] = 1)] = \"RECORD\";\n\tObjectType2[(ObjectType2[\"ARRAY\"] = 2)] = \"ARRAY\";\n\tObjectType2[(ObjectType2[\"SET\"] = 3)] = \"SET\";\n\tObjectType2[(ObjectType2[\"MAP\"] = 4)] = \"MAP\";\n\tObjectType2[(ObjectType2[\"OTHER\"] = 5)] = \"OTHER\";\n})(ObjectType || (ObjectType = {}));\nfunction getObjectType(object) {\n\tif (typeof object !== \"object\" || object === null) {\n\t\treturn 0;\n\t}\n\tif (Array.isArray(object)) {\n\t\treturn 2;\n\t}\n\tif (isRecord(object)) {\n\t\treturn 1;\n\t}\n\tif (object instanceof Set) {\n\t\treturn 3;\n\t}\n\tif (object instanceof Map) {\n\t\treturn 4;\n\t}\n\treturn 5;\n}\nfunction getKeys(objects) {\n\tconst keys = /* @__PURE__ */ new Set();\n\tfor (const object of objects) {\n\t\tfor (const key of [...Object.keys(object), ...Object.getOwnPropertySymbols(object)]) {\n\t\t\tkeys.add(key);\n\t\t}\n\t}\n\treturn keys;\n}\nfunction objectHasProperty(object, property) {\n\treturn typeof object === \"object\" && Object.prototype.propertyIsEnumerable.call(object, property);\n}\nfunction getIterableOfIterables(iterables) {\n\tlet m_iterablesIndex = 0;\n\tlet m_iterator = iterables[0]?.[Symbol.iterator]();\n\treturn {\n\t\t[Symbol.iterator]() {\n\t\t\treturn {\n\t\t\t\tnext() {\n\t\t\t\t\tdo {\n\t\t\t\t\t\tif (m_iterator === void 0) {\n\t\t\t\t\t\t\treturn { done: true, value: void 0 };\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst result = m_iterator.next();\n\t\t\t\t\t\tif (result.done === true) {\n\t\t\t\t\t\t\tm_iterablesIndex += 1;\n\t\t\t\t\t\t\tm_iterator = iterables[m_iterablesIndex]?.[Symbol.iterator]();\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tdone: false,\n\t\t\t\t\t\t\tvalue: result.value,\n\t\t\t\t\t\t};\n\t\t\t\t\t} while (true);\n\t\t\t\t},\n\t\t\t};\n\t\t},\n\t};\n}\nvar validRecordToStringValues = [\"[object Object]\", \"[object Module]\"];\nfunction isRecord(value) {\n\tif (!validRecordToStringValues.includes(Object.prototype.toString.call(value))) {\n\t\treturn false;\n\t}\n\tconst { constructor } = value;\n\tif (constructor === void 0) {\n\t\treturn true;\n\t}\n\tconst prototype = constructor.prototype;\n\tif (\n\t\tprototype === null ||\n\t\ttypeof prototype !== \"object\" ||\n\t\t!validRecordToStringValues.includes(Object.prototype.toString.call(prototype))\n\t) {\n\t\treturn false;\n\t}\n\tif (!prototype.hasOwnProperty(\"isPrototypeOf\")) {\n\t\treturn false;\n\t}\n\treturn true;\n}\nfunction mergeRecords$1(values, utils, meta) {\n\tconst result = {};\n\tfor (const key of getKeys(values)) {\n\t\tconst propValues = [];\n\t\tfor (const value of values) {\n\t\t\tif (objectHasProperty(value, key)) {\n\t\t\t\tpropValues.push(value[key]);\n\t\t\t}\n\t\t}\n\t\tif (propValues.length === 0) {\n\t\t\tcontinue;\n\t\t}\n\t\tconst updatedMeta = utils.metaDataUpdater(meta, {\n\t\t\tkey,\n\t\t\tparents: values,\n\t\t});\n\t\tconst propertyResult = mergeUnknowns(propValues, utils, updatedMeta);\n\t\tif (propertyResult === actions.skip) {\n\t\t\tcontinue;\n\t\t}\n\t\tif (key === \"__proto__\") {\n\t\t\tObject.defineProperty(result, key, {\n\t\t\t\tvalue: propertyResult,\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\twritable: true,\n\t\t\t});\n\t\t} else {\n\t\t\tresult[key] = propertyResult;\n\t\t}\n\t}\n\treturn result;\n}\nfunction mergeArrays$1(values) {\n\treturn values.flat();\n}\nfunction mergeSets$1(values) {\n\treturn new Set(getIterableOfIterables(values));\n}\nfunction mergeMaps$1(values) {\n\treturn new Map(getIterableOfIterables(values));\n}\nfunction mergeOthers$1(values) {\n\treturn values.at(-1);\n}\nvar mergeFunctions = {\n\tmergeRecords: mergeRecords$1,\n\tmergeArrays: mergeArrays$1,\n\tmergeSets: mergeSets$1,\n\tmergeMaps: mergeMaps$1,\n\tmergeOthers: mergeOthers$1,\n};\nfunction deepmerge(...objects) {\n\treturn deepmergeCustom({})(...objects);\n}\nfunction deepmergeCustom(options, rootMetaData) {\n\tconst utils = getUtils(options, customizedDeepmerge);\n\tfunction customizedDeepmerge(...objects) {\n\t\treturn mergeUnknowns(objects, utils, rootMetaData);\n\t}\n\treturn customizedDeepmerge;\n}\nfunction getUtils(options, customizedDeepmerge) {\n\treturn {\n\t\tdefaultMergeFunctions: mergeFunctions,\n\t\tmergeFunctions: {\n\t\t\t...mergeFunctions,\n\t\t\t...Object.fromEntries(\n\t\t\t\tObject.entries(options)\n\t\t\t\t\t.filter(([key, option]) => Object.hasOwn(mergeFunctions, key))\n\t\t\t\t\t.map(([key, option]) => (option === false ? [key, mergeFunctions.mergeOthers] : [key, option]))\n\t\t\t),\n\t\t},\n\t\tmetaDataUpdater: options.metaDataUpdater ?? defaultMetaDataUpdater,\n\t\tdeepmerge: customizedDeepmerge,\n\t\tuseImplicitDefaultMerging: options.enableImplicitDefaultMerging ?? false,\n\t\tfilterValues: options.filterValues === false ? void 0 : (options.filterValues ?? defaultFilterValues),\n\t\tactions,\n\t};\n}\nfunction mergeUnknowns(values, utils, meta) {\n\tconst filteredValues = utils.filterValues?.(values, meta) ?? values;\n\tif (filteredValues.length === 0) {\n\t\treturn void 0;\n\t}\n\tif (filteredValues.length === 1) {\n\t\treturn mergeOthers(filteredValues, utils, meta);\n\t}\n\tconst type = getObjectType(filteredValues[0]);\n\tif (type !== 0 && type !== 5) {\n\t\tfor (let m_index = 1; m_index < filteredValues.length; m_index++) {\n\t\t\tif (getObjectType(filteredValues[m_index]) === type) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\treturn mergeOthers(filteredValues, utils, meta);\n\t\t}\n\t}\n\tswitch (type) {\n\t\tcase 1: {\n\t\t\treturn mergeRecords(filteredValues, utils, meta);\n\t\t}\n\t\tcase 2: {\n\t\t\treturn mergeArrays(filteredValues, utils, meta);\n\t\t}\n\t\tcase 3: {\n\t\t\treturn mergeSets(filteredValues, utils, meta);\n\t\t}\n\t\tcase 4: {\n\t\t\treturn mergeMaps(filteredValues, utils, meta);\n\t\t}\n\t\tdefault: {\n\t\t\treturn mergeOthers(filteredValues, utils, meta);\n\t\t}\n\t}\n}\nfunction mergeRecords(values, utils, meta) {\n\tconst result = utils.mergeFunctions.mergeRecords(values, utils, meta);\n\tif (\n\t\tresult === actions.defaultMerge ||\n\t\t(utils.useImplicitDefaultMerging &&\n\t\t\tresult === void 0 &&\n\t\t\tutils.mergeFunctions.mergeRecords !== utils.defaultMergeFunctions.mergeRecords)\n\t) {\n\t\treturn utils.defaultMergeFunctions.mergeRecords(values, utils, meta);\n\t}\n\treturn result;\n}\nfunction mergeArrays(values, utils, meta) {\n\tconst result = utils.mergeFunctions.mergeArrays(values, utils, meta);\n\tif (\n\t\tresult === actions.defaultMerge ||\n\t\t(utils.useImplicitDefaultMerging &&\n\t\t\tresult === void 0 &&\n\t\t\tutils.mergeFunctions.mergeArrays !== utils.defaultMergeFunctions.mergeArrays)\n\t) {\n\t\treturn utils.defaultMergeFunctions.mergeArrays(values);\n\t}\n\treturn result;\n}\nfunction mergeSets(values, utils, meta) {\n\tconst result = utils.mergeFunctions.mergeSets(values, utils, meta);\n\tif (\n\t\tresult === actions.defaultMerge ||\n\t\t(utils.useImplicitDefaultMerging &&\n\t\t\tresult === void 0 &&\n\t\t\tutils.mergeFunctions.mergeSets !== utils.defaultMergeFunctions.mergeSets)\n\t) {\n\t\treturn utils.defaultMergeFunctions.mergeSets(values);\n\t}\n\treturn result;\n}\nfunction mergeMaps(values, utils, meta) {\n\tconst result = utils.mergeFunctions.mergeMaps(values, utils, meta);\n\tif (\n\t\tresult === actions.defaultMerge ||\n\t\t(utils.useImplicitDefaultMerging &&\n\t\t\tresult === void 0 &&\n\t\t\tutils.mergeFunctions.mergeMaps !== utils.defaultMergeFunctions.mergeMaps)\n\t) {\n\t\treturn utils.defaultMergeFunctions.mergeMaps(values);\n\t}\n\treturn result;\n}\nfunction mergeOthers(values, utils, meta) {\n\tconst result = utils.mergeFunctions.mergeOthers(values, utils, meta);\n\tif (\n\t\tresult === actions.defaultMerge ||\n\t\t(utils.useImplicitDefaultMerging &&\n\t\t\tresult === void 0 &&\n\t\t\tutils.mergeFunctions.mergeOthers !== utils.defaultMergeFunctions.mergeOthers)\n\t) {\n\t\treturn utils.defaultMergeFunctions.mergeOthers(values);\n\t}\n\treturn result;\n}\n\n// src/next/errors/bailout-to-csr.ts\nvar BAILOUT_TO_CSR = \"BAILOUT_TO_CLIENT_SIDE_RENDERING\";\nfunction isBailoutToCSRError(err) {\n\tif (typeof err !== \"object\" || err === null || !(\"digest\" in err)) {\n\t\treturn false;\n\t}\n\treturn err.digest === BAILOUT_TO_CSR;\n}\n\n// src/next/errors/http-access-fallback.ts\nvar HTTPAccessErrorStatus = {\n\tNOT_FOUND: 404,\n\tFORBIDDEN: 403,\n\tUNAUTHORIZED: 401,\n};\nvar ALLOWED_CODES = new Set(Object.values(HTTPAccessErrorStatus));\nvar HTTP_ERROR_FALLBACK_ERROR_CODE = \"NEXT_HTTP_ERROR_FALLBACK\";\nfunction isHTTPAccessFallbackError(error) {\n\tif (typeof error !== \"object\" || error === null || !(\"digest\" in error) || typeof error.digest !== \"string\") {\n\t\treturn false;\n\t}\n\tconst [prefix, httpStatus] = error.digest.split(\";\");\n\treturn prefix === HTTP_ERROR_FALLBACK_ERROR_CODE && ALLOWED_CODES.has(Number(httpStatus));\n}\nfunction getAccessFallbackHTTPStatus(error) {\n\tconst httpStatus = error.digest.split(\";\")[1];\n\treturn Number(httpStatus);\n}\n\n// src/next/errors/redirect.ts\nvar RedirectStatusCode = /* @__PURE__ */ ((RedirectStatusCode2) => {\n\tRedirectStatusCode2[(RedirectStatusCode2[\"SeeOther\"] = 303)] = \"SeeOther\";\n\tRedirectStatusCode2[(RedirectStatusCode2[\"TemporaryRedirect\"] = 307)] = \"TemporaryRedirect\";\n\tRedirectStatusCode2[(RedirectStatusCode2[\"PermanentRedirect\"] = 308)] = \"PermanentRedirect\";\n\treturn RedirectStatusCode2;\n})(RedirectStatusCode || {});\nvar REDIRECT_ERROR_CODE = \"NEXT_REDIRECT\";\nfunction isRedirectError(error) {\n\tif (typeof error !== \"object\" || error === null || !(\"digest\" in error) || typeof error.digest !== \"string\") {\n\t\treturn false;\n\t}\n\tconst digest = error.digest.split(\";\");\n\tconst [errorCode, type] = digest;\n\tconst destination = digest.slice(2, -2).join(\";\");\n\tconst status = digest.at(-2);\n\tconst statusCode = Number(status);\n\treturn (\n\t\terrorCode === REDIRECT_ERROR_CODE &&\n\t\t(type === \"replace\" || type === \"push\") &&\n\t\ttypeof destination === \"string\" &&\n\t\t!isNaN(statusCode) &&\n\t\tstatusCode in RedirectStatusCode\n\t);\n}\n\n// src/next/errors/router.ts\nfunction isNextRouterError(error) {\n\treturn isRedirectError(error) || isHTTPAccessFallbackError(error);\n}\n\n// src/next/errors/dynamic-usage.ts\nvar DYNAMIC_ERROR_CODE = \"DYNAMIC_SERVER_USAGE\";\nfunction isDynamicServerError(err) {\n\tif (typeof err !== \"object\" || err === null || !(\"digest\" in err) || typeof err.digest !== \"string\") {\n\t\treturn false;\n\t}\n\treturn err.digest === DYNAMIC_ERROR_CODE;\n}\nfunction isDynamicPostponeReason(reason) {\n\treturn (\n\t\treason.includes(\"needs to bail out of prerendering at this point because it used\") &&\n\t\treason.includes(\"Learn more: https://nextjs.org/docs/messages/ppr-caught-error\")\n\t);\n}\nfunction isDynamicPostpone(err) {\n\tif (\n\t\ttypeof err === \"object\" &&\n\t\terr !== null && // eslint-disable-next-line\n\t\ttypeof err.message === \"string\"\n\t) {\n\t\treturn isDynamicPostponeReason(err.message);\n\t}\n\treturn false;\n}\nvar isDynamicUsageError = (err) =>\n\tisDynamicServerError(err) || isBailoutToCSRError(err) || isNextRouterError(err) || isDynamicPostpone(err);\n\n// src/next/errors/postpone.ts\nvar REACT_POSTPONE_TYPE = Symbol.for(\"react.postpone\");\nfunction isPostpone(error) {\n\treturn (\n\t\ttypeof error === \"object\" &&\n\t\terror !== null && // eslint-disable-next-line\n\t\terror.$$typeof === REACT_POSTPONE_TYPE\n\t);\n}\n\n// src/next/errors/index.ts\nfunction isNotFoundError(error) {\n\treturn isHTTPAccessFallbackError(error) && getAccessFallbackHTTPStatus(error) === 404;\n}\nfunction isForbiddenError(error) {\n\treturn isHTTPAccessFallbackError(error) && getAccessFallbackHTTPStatus(error) === 403;\n}\nfunction isUnauthorizedError(error) {\n\treturn isHTTPAccessFallbackError(error) && getAccessFallbackHTTPStatus(error) === 401;\n}\nfunction isFrameworkError(error) {\n\treturn isNextRouterError(error) || isBailoutToCSRError(error) || isDynamicUsageError(error) || isPostpone(error);\n}\n\n// src/utils.ts\nvar DEFAULT_SERVER_ERROR_MESSAGE = \"Something went wrong while executing the operation.\";\nvar isError = (error) => error instanceof Error;\nvar winningBoolean = (...args) => {\n\treturn args.reduce((acc, v) => (typeof v === \"boolean\" ? v : acc), false);\n};\n\n// src/validation-errors.ts\nvar buildValidationErrors = (issues) => {\n\tconst ve = {};\n\tfor (const issue of issues) {\n\t\tconst { path, message } = issue;\n\t\tif (!path || path.length === 0) {\n\t\t\tve._errors = ve._errors ? [...ve._errors, message] : [message];\n\t\t\tcontinue;\n\t\t}\n\t\tlet ref = ve;\n\t\tfor (let i = 0; i < path.length - 1; i++) {\n\t\t\tconst k = path[i];\n\t\t\tif (!ref[k]) {\n\t\t\t\tref[k] = {};\n\t\t\t}\n\t\t\tref = ref[k];\n\t\t}\n\t\tconst key = path[path.length - 1];\n\t\tref[key] = ref[key]?._errors\n\t\t\t? {\n\t\t\t\t\t...structuredClone(ref[key]),\n\t\t\t\t\t_errors: [...ref[key]._errors, message],\n\t\t\t\t}\n\t\t\t: { ...structuredClone(ref[key]), _errors: [message] };\n\t}\n\treturn ve;\n};\nvar ActionServerValidationError = class extends Error {\n\tvalidationErrors;\n\tconstructor(validationErrors) {\n\t\tsuper(\"Server Action server validation error(s) occurred\");\n\t\tthis.validationErrors = validationErrors;\n\t}\n};\nvar ActionValidationError = class extends Error {\n\tvalidationErrors;\n\tconstructor(validationErrors) {\n\t\tsuper(\"Server Action validation error(s) occurred\");\n\t\tthis.validationErrors = validationErrors;\n\t}\n};\nfunction returnValidationErrors(schema, validationErrors) {\n\tthrow new ActionServerValidationError(validationErrors);\n}\nfunction formatValidationErrors(validationErrors) {\n\treturn validationErrors;\n}\nfunction formatBindArgsValidationErrors(bindArgsValidationErrors) {\n\treturn bindArgsValidationErrors;\n}\nfunction flattenValidationErrors(validationErrors) {\n\tconst flattened = {\n\t\tformErrors: [],\n\t\tfieldErrors: {},\n\t};\n\tfor (const [key, value] of Object.entries(validationErrors ?? {})) {\n\t\tif (key === \"_errors\" && Array.isArray(value)) {\n\t\t\tflattened.formErrors = [...value];\n\t\t} else {\n\t\t\tif (\"_errors\" in value) {\n\t\t\t\tflattened.fieldErrors[key] = [...value._errors];\n\t\t\t}\n\t\t}\n\t}\n\treturn flattened;\n}\nfunction flattenBindArgsValidationErrors(bindArgsValidationErrors) {\n\treturn bindArgsValidationErrors.map((ve) => flattenValidationErrors(ve));\n}\nvar ActionMetadataValidationError = class extends Error {\n\tvalidationErrors;\n\tconstructor(validationErrors) {\n\t\tsuper(\"Invalid metadata input. Please be sure to pass metadata via `metadata` method before defining the action.\");\n\t\tthis.name = \"ActionMetadataError\";\n\t\tthis.validationErrors = validationErrors;\n\t}\n};\nvar ActionOutputDataValidationError = class extends Error {\n\tvalidationErrors;\n\tconstructor(validationErrors) {\n\t\tsuper(\n\t\t\t\"Invalid action data (output). Please be sure to return data following the shape of the schema passed to `dataSchema` method.\"\n\t\t);\n\t\tthis.name = \"ActionOutputDataError\";\n\t\tthis.validationErrors = validationErrors;\n\t}\n};\n\n// src/action-builder.ts\nfunction actionBuilder(args) {\n\tconst bindArgsSchemas = args.bindArgsSchemas ?? [];\n\tfunction buildAction({ withState }) {\n\t\treturn {\n\t\t\taction: (serverCodeFn, utils) => {\n\t\t\t\treturn async (...clientInputs) => {\n\t\t\t\t\tlet currentCtx = {};\n\t\t\t\t\tconst middlewareResult = { success: false };\n\t\t\t\t\tlet prevResult = void 0;\n\t\t\t\t\tconst parsedInputDatas = [];\n\t\t\t\t\tlet frameworkError = null;\n\t\t\t\t\tif (withState) {\n\t\t\t\t\t\tprevResult = clientInputs.splice(bindArgsSchemas.length, 1)[0];\n\t\t\t\t\t}\n\t\t\t\t\tif (bindArgsSchemas.length + 1 > clientInputs.length) {\n\t\t\t\t\t\tclientInputs.push(void 0);\n\t\t\t\t\t}\n\t\t\t\t\tconst executeMiddlewareStack = async (idx = 0) => {\n\t\t\t\t\t\tif (frameworkError) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst middlewareFn = args.middlewareFns[idx];\n\t\t\t\t\t\tmiddlewareResult.ctx = currentCtx;\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tif (idx === 0) {\n\t\t\t\t\t\t\t\tif (args.metadataSchema) {\n\t\t\t\t\t\t\t\t\tconst parsedMd = await args.validationAdapter.validate(args.metadataSchema, args.metadata);\n\t\t\t\t\t\t\t\t\tif (!parsedMd.success) {\n\t\t\t\t\t\t\t\t\t\tthrow new ActionMetadataValidationError(buildValidationErrors(parsedMd.issues));\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (middlewareFn) {\n\t\t\t\t\t\t\t\tawait middlewareFn({\n\t\t\t\t\t\t\t\t\tclientInput: clientInputs.at(-1),\n\t\t\t\t\t\t\t\t\t// pass raw client input\n\t\t\t\t\t\t\t\t\tbindArgsClientInputs: bindArgsSchemas.length ? clientInputs.slice(0, -1) : [],\n\t\t\t\t\t\t\t\t\tctx: currentCtx,\n\t\t\t\t\t\t\t\t\tmetadata: args.metadata,\n\t\t\t\t\t\t\t\t\tnext: async (nextOpts) => {\n\t\t\t\t\t\t\t\t\t\tcurrentCtx = deepmerge(currentCtx, nextOpts?.ctx ?? {});\n\t\t\t\t\t\t\t\t\t\tawait executeMiddlewareStack(idx + 1);\n\t\t\t\t\t\t\t\t\t\treturn middlewareResult;\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconst parsedInputs = await Promise.all(\n\t\t\t\t\t\t\t\t\tclientInputs.map(async (input, i) => {\n\t\t\t\t\t\t\t\t\t\tif (i === clientInputs.length - 1) {\n\t\t\t\t\t\t\t\t\t\t\tif (typeof args.inputSchemaFn === \"undefined\") {\n\t\t\t\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsuccess: true,\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata: void 0,\n\t\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\treturn args.validationAdapter.validate(await args.inputSchemaFn(), input);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\treturn args.validationAdapter.validate(bindArgsSchemas[i], input);\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tlet hasBindValidationErrors = false;\n\t\t\t\t\t\t\t\tconst bindArgsValidationErrors = Array(parsedInputs.length - 1).fill({});\n\t\t\t\t\t\t\t\tfor (let i = 0; i < parsedInputs.length; i++) {\n\t\t\t\t\t\t\t\t\tconst parsedInput = parsedInputs[i];\n\t\t\t\t\t\t\t\t\tif (parsedInput.success) {\n\t\t\t\t\t\t\t\t\t\tparsedInputDatas.push(parsedInput.data);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (i < parsedInputs.length - 1) {\n\t\t\t\t\t\t\t\t\t\t\tbindArgsValidationErrors[i] = buildValidationErrors(parsedInput.issues);\n\t\t\t\t\t\t\t\t\t\t\thasBindValidationErrors = true;\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tconst validationErrors = buildValidationErrors(parsedInput.issues);\n\t\t\t\t\t\t\t\t\t\t\tmiddlewareResult.validationErrors = await Promise.resolve(\n\t\t\t\t\t\t\t\t\t\t\t\targs.handleValidationErrorsShape(validationErrors, {\n\t\t\t\t\t\t\t\t\t\t\t\t\tclientInput: clientInputs.at(-1),\n\t\t\t\t\t\t\t\t\t\t\t\t\tbindArgsClientInputs: bindArgsSchemas.length ? clientInputs.slice(0, -1) : [],\n\t\t\t\t\t\t\t\t\t\t\t\t\tctx: currentCtx,\n\t\t\t\t\t\t\t\t\t\t\t\t\tmetadata: args.metadata,\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (hasBindValidationErrors) {\n\t\t\t\t\t\t\t\t\tmiddlewareResult.bindArgsValidationErrors = await Promise.resolve(\n\t\t\t\t\t\t\t\t\t\targs.handleBindArgsValidationErrorsShape(bindArgsValidationErrors, {\n\t\t\t\t\t\t\t\t\t\t\tclientInput: clientInputs.at(-1),\n\t\t\t\t\t\t\t\t\t\t\tbindArgsClientInputs: bindArgsSchemas.length ? clientInputs.slice(0, -1) : [],\n\t\t\t\t\t\t\t\t\t\t\tctx: currentCtx,\n\t\t\t\t\t\t\t\t\t\t\tmetadata: args.metadata,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (middlewareResult.validationErrors || middlewareResult.bindArgsValidationErrors) {\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tconst scfArgs = [];\n\t\t\t\t\t\t\t\tscfArgs[0] = {\n\t\t\t\t\t\t\t\t\tparsedInput: parsedInputDatas.at(-1),\n\t\t\t\t\t\t\t\t\tbindArgsParsedInputs: parsedInputDatas.slice(0, -1),\n\t\t\t\t\t\t\t\t\tclientInput: clientInputs.at(-1),\n\t\t\t\t\t\t\t\t\tbindArgsClientInputs: bindArgsSchemas.length ? clientInputs.slice(0, -1) : [],\n\t\t\t\t\t\t\t\t\tctx: currentCtx,\n\t\t\t\t\t\t\t\t\tmetadata: args.metadata,\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tif (withState) {\n\t\t\t\t\t\t\t\t\tscfArgs[1] = { prevResult: structuredClone(prevResult) };\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tconst data = await serverCodeFn(...scfArgs);\n\t\t\t\t\t\t\t\tif (typeof args.outputSchema !== \"undefined\") {\n\t\t\t\t\t\t\t\t\tconst parsedData = await args.validationAdapter.validate(args.outputSchema, data);\n\t\t\t\t\t\t\t\t\tif (!parsedData.success) {\n\t\t\t\t\t\t\t\t\t\tthrow new ActionOutputDataValidationError(buildValidationErrors(parsedData.issues));\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tmiddlewareResult.success = true;\n\t\t\t\t\t\t\t\tmiddlewareResult.data = data;\n\t\t\t\t\t\t\t\tmiddlewareResult.parsedInput = parsedInputDatas.at(-1);\n\t\t\t\t\t\t\t\tmiddlewareResult.bindArgsParsedInputs = parsedInputDatas.slice(0, -1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tif (isFrameworkError(e)) {\n\t\t\t\t\t\t\t\tmiddlewareResult.success = true;\n\t\t\t\t\t\t\t\tframeworkError = e;\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (e instanceof ActionServerValidationError) {\n\t\t\t\t\t\t\t\tconst ve = e.validationErrors;\n\t\t\t\t\t\t\t\tmiddlewareResult.validationErrors = await Promise.resolve(\n\t\t\t\t\t\t\t\t\targs.handleValidationErrorsShape(ve, {\n\t\t\t\t\t\t\t\t\t\tclientInput: clientInputs.at(-1),\n\t\t\t\t\t\t\t\t\t\tbindArgsClientInputs: bindArgsSchemas.length ? clientInputs.slice(0, -1) : [],\n\t\t\t\t\t\t\t\t\t\tctx: currentCtx,\n\t\t\t\t\t\t\t\t\t\tmetadata: args.metadata,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconst error = isError(e) ? e : new Error(DEFAULT_SERVER_ERROR_MESSAGE);\n\t\t\t\t\t\t\t\tconst returnedError = await Promise.resolve(\n\t\t\t\t\t\t\t\t\targs.handleServerError(error, {\n\t\t\t\t\t\t\t\t\t\tclientInput: clientInputs.at(-1),\n\t\t\t\t\t\t\t\t\t\t// pass raw client input\n\t\t\t\t\t\t\t\t\t\tbindArgsClientInputs: bindArgsSchemas.length ? clientInputs.slice(0, -1) : [],\n\t\t\t\t\t\t\t\t\t\tctx: currentCtx,\n\t\t\t\t\t\t\t\t\t\tmetadata: args.metadata,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tmiddlewareResult.serverError = returnedError;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tawait executeMiddlewareStack();\n\t\t\t\t\tconst callbackPromises = [];\n\t\t\t\t\tif (frameworkError) {\n\t\t\t\t\t\tcallbackPromises.push(\n\t\t\t\t\t\t\tutils?.onSuccess?.({\n\t\t\t\t\t\t\t\tdata: void 0,\n\t\t\t\t\t\t\t\tmetadata: args.metadata,\n\t\t\t\t\t\t\t\tctx: currentCtx,\n\t\t\t\t\t\t\t\tclientInput: clientInputs.at(-1),\n\t\t\t\t\t\t\t\tbindArgsClientInputs: bindArgsSchemas.length ? clientInputs.slice(0, -1) : [],\n\t\t\t\t\t\t\t\tparsedInput: parsedInputDatas.at(-1),\n\t\t\t\t\t\t\t\tbindArgsParsedInputs: parsedInputDatas.slice(0, -1),\n\t\t\t\t\t\t\t\thasRedirected: isRedirectError(frameworkError),\n\t\t\t\t\t\t\t\thasNotFound: isNotFoundError(frameworkError),\n\t\t\t\t\t\t\t\thasForbidden: isForbiddenError(frameworkError),\n\t\t\t\t\t\t\t\thasUnauthorized: isUnauthorizedError(frameworkError),\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t);\n\t\t\t\t\t\tcallbackPromises.push(\n\t\t\t\t\t\t\tutils?.onSettled?.({\n\t\t\t\t\t\t\t\tmetadata: args.metadata,\n\t\t\t\t\t\t\t\tctx: currentCtx,\n\t\t\t\t\t\t\t\tclientInput: clientInputs.at(-1),\n\t\t\t\t\t\t\t\tbindArgsClientInputs: bindArgsSchemas.length ? clientInputs.slice(0, -1) : [],\n\t\t\t\t\t\t\t\tresult: {},\n\t\t\t\t\t\t\t\thasRedirected: isRedirectError(frameworkError),\n\t\t\t\t\t\t\t\thasNotFound: isNotFoundError(frameworkError),\n\t\t\t\t\t\t\t\thasForbidden: isForbiddenError(frameworkError),\n\t\t\t\t\t\t\t\thasUnauthorized: isUnauthorizedError(frameworkError),\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t);\n\t\t\t\t\t\tawait Promise.all(callbackPromises);\n\t\t\t\t\t\tthrow frameworkError;\n\t\t\t\t\t}\n\t\t\t\t\tconst actionResult = {};\n\t\t\t\t\tif (typeof middlewareResult.validationErrors !== \"undefined\") {\n\t\t\t\t\t\tif (winningBoolean(args.throwValidationErrors, utils?.throwValidationErrors)) {\n\t\t\t\t\t\t\tthrow new ActionValidationError(middlewareResult.validationErrors);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tactionResult.validationErrors = middlewareResult.validationErrors;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof middlewareResult.bindArgsValidationErrors !== \"undefined\") {\n\t\t\t\t\t\tactionResult.bindArgsValidationErrors = middlewareResult.bindArgsValidationErrors;\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof middlewareResult.serverError !== \"undefined\") {\n\t\t\t\t\t\tif (utils?.throwServerError) {\n\t\t\t\t\t\t\tthrow middlewareResult.serverError;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tactionResult.serverError = middlewareResult.serverError;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (middlewareResult.success) {\n\t\t\t\t\t\tif (typeof middlewareResult.data !== \"undefined\") {\n\t\t\t\t\t\t\tactionResult.data = middlewareResult.data;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcallbackPromises.push(\n\t\t\t\t\t\t\tutils?.onSuccess?.({\n\t\t\t\t\t\t\t\tmetadata: args.metadata,\n\t\t\t\t\t\t\t\tctx: currentCtx,\n\t\t\t\t\t\t\t\tdata: actionResult.data,\n\t\t\t\t\t\t\t\tclientInput: clientInputs.at(-1),\n\t\t\t\t\t\t\t\tbindArgsClientInputs: bindArgsSchemas.length ? clientInputs.slice(0, -1) : [],\n\t\t\t\t\t\t\t\tparsedInput: parsedInputDatas.at(-1),\n\t\t\t\t\t\t\t\tbindArgsParsedInputs: parsedInputDatas.slice(0, -1),\n\t\t\t\t\t\t\t\thasRedirected: false,\n\t\t\t\t\t\t\t\thasNotFound: false,\n\t\t\t\t\t\t\t\thasForbidden: false,\n\t\t\t\t\t\t\t\thasUnauthorized: false,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcallbackPromises.push(\n\t\t\t\t\t\t\tutils?.onError?.({\n\t\t\t\t\t\t\t\tmetadata: args.metadata,\n\t\t\t\t\t\t\t\tctx: currentCtx,\n\t\t\t\t\t\t\t\tclientInput: clientInputs.at(-1),\n\t\t\t\t\t\t\t\tbindArgsClientInputs: bindArgsSchemas.length ? clientInputs.slice(0, -1) : [],\n\t\t\t\t\t\t\t\terror: actionResult,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tcallbackPromises.push(\n\t\t\t\t\t\tutils?.onSettled?.({\n\t\t\t\t\t\t\tmetadata: args.metadata,\n\t\t\t\t\t\t\tctx: currentCtx,\n\t\t\t\t\t\t\tclientInput: clientInputs.at(-1),\n\t\t\t\t\t\t\tbindArgsClientInputs: bindArgsSchemas.length ? clientInputs.slice(0, -1) : [],\n\t\t\t\t\t\t\tresult: actionResult,\n\t\t\t\t\t\t\thasRedirected: false,\n\t\t\t\t\t\t\thasNotFound: false,\n\t\t\t\t\t\t\thasForbidden: false,\n\t\t\t\t\t\t\thasUnauthorized: false,\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t\tawait Promise.all(callbackPromises);\n\t\t\t\t\treturn actionResult;\n\t\t\t\t};\n\t\t\t},\n\t\t};\n\t}\n\treturn {\n\t\t/**\n\t\t * Define the action.\n\t\t * @param serverCodeFn Code that will be executed on the **server side**\n\t\t *\n\t\t * {@link https://next-safe-action.dev/docs/define-actions/instance-methods#action--stateaction See docs for more information}\n\t\t */\n\t\taction: buildAction({ withState: false }).action,\n\t\t/**\n\t\t * Define the stateful action. To be used with the [`useStateAction`](https://next-safe-action.dev/docs/execute-actions/hooks/usestateaction) hook.\n\t\t * @param serverCodeFn Code that will be executed on the **server side**\n\t\t *\n\t\t * {@link https://next-safe-action.dev/docs/define-actions/instance-methods#action--stateaction See docs for more information}\n\t\t */\n\t\tstateAction: buildAction({ withState: true }).action,\n\t};\n}\n\n// src/safe-action-client.ts\nvar SafeActionClient = class _SafeActionClient {\n\t#handleServerError;\n\t#middlewareFns;\n\t#metadataSchema;\n\t#metadata;\n\t#inputSchemaFn;\n\t#outputSchema;\n\t#ctxType;\n\t#bindArgsSchemas;\n\t#validationAdapter;\n\t#handleValidationErrorsShape;\n\t#handleBindArgsValidationErrorsShape;\n\t#defaultValidationErrorsShape;\n\t#throwValidationErrors;\n\tconstructor(opts) {\n\t\tthis.#middlewareFns = opts.middlewareFns;\n\t\tthis.#handleServerError = opts.handleServerError;\n\t\tthis.#metadataSchema = opts.metadataSchema;\n\t\tthis.#metadata = opts.metadata;\n\t\tthis.#inputSchemaFn = opts.inputSchemaFn ?? void 0;\n\t\tthis.#outputSchema = opts.outputSchema;\n\t\tthis.#bindArgsSchemas = opts.bindArgsSchemas ?? [];\n\t\tthis.#validationAdapter = opts.validationAdapter;\n\t\tthis.#ctxType = opts.ctxType;\n\t\tthis.#handleValidationErrorsShape = opts.handleValidationErrorsShape;\n\t\tthis.#handleBindArgsValidationErrorsShape = opts.handleBindArgsValidationErrorsShape;\n\t\tthis.#defaultValidationErrorsShape = opts.defaultValidationErrorsShape;\n\t\tthis.#throwValidationErrors = opts.throwValidationErrors;\n\t}\n\t/**\n\t * Use a middleware function.\n\t * @param middlewareFn Middleware function\n\t *\n\t * {@link https://next-safe-action.dev/docs/define-actions/instance-methods#use See docs for more information}\n\t */\n\tuse(middlewareFn) {\n\t\treturn new _SafeActionClient({\n\t\t\tmiddlewareFns: [...this.#middlewareFns, middlewareFn],\n\t\t\thandleServerError: this.#handleServerError,\n\t\t\tmetadataSchema: this.#metadataSchema,\n\t\t\tmetadata: this.#metadata,\n\t\t\tinputSchemaFn: this.#inputSchemaFn,\n\t\t\toutputSchema: this.#outputSchema,\n\t\t\tbindArgsSchemas: this.#bindArgsSchemas,\n\t\t\tvalidationAdapter: this.#validationAdapter,\n\t\t\thandleValidationErrorsShape: this.#handleValidationErrorsShape,\n\t\t\thandleBindArgsValidationErrorsShape: this.#handleBindArgsValidationErrorsShape,\n\t\t\tctxType: {},\n\t\t\tdefaultValidationErrorsShape: this.#defaultValidationErrorsShape,\n\t\t\tthrowValidationErrors: this.#throwValidationErrors,\n\t\t});\n\t}\n\t/**\n\t * Define metadata for the action.\n\t * @param data Metadata with the same type as the return value of the [`defineMetadataSchema`](https://next-safe-action.dev/docs/define-actions/create-the-client#definemetadataschema) optional initialization function\n\t *\n\t * {@link https://next-safe-action.dev/docs/define-actions/instance-methods#metadata See docs for more information}\n\t */\n\tmetadata(data) {\n\t\treturn new _SafeActionClient({\n\t\t\tmiddlewareFns: this.#middlewareFns,\n\t\t\thandleServerError: this.#handleServerError,\n\t\t\tmetadataSchema: this.#metadataSchema,\n\t\t\tmetadata: data,\n\t\t\tinputSchemaFn: this.#inputSchemaFn,\n\t\t\tbindArgsSchemas: this.#bindArgsSchemas,\n\t\t\toutputSchema: this.#outputSchema,\n\t\t\tvalidationAdapter: this.#validationAdapter,\n\t\t\thandleValidationErrorsShape: this.#handleValidationErrorsShape,\n\t\t\thandleBindArgsValidationErrorsShape: this.#handleBindArgsValidationErrorsShape,\n\t\t\tctxType: {},\n\t\t\tdefaultValidationErrorsShape: this.#defaultValidationErrorsShape,\n\t\t\tthrowValidationErrors: this.#throwValidationErrors,\n\t\t});\n\t}\n\t/**\n\t * Define the input validation schema for the action.\n\t * @param inputSchema Input validation schema\n\t * @param utils Optional utils object\n\t *\n\t * {@link https://next-safe-action.dev/docs/define-actions/create-the-client#inputschema See docs for more information}\n\t */\n\tschema(inputSchema, utils) {\n\t\treturn new _SafeActionClient({\n\t\t\tmiddlewareFns: this.#middlewareFns,\n\t\t\thandleServerError: this.#handleServerError,\n\t\t\tmetadataSchema: this.#metadataSchema,\n\t\t\tmetadata: this.#metadata,\n\t\t\t// @ts-expect-error\n\t\t\tinputSchemaFn:\n\t\t\t\tinputSchema[Symbol.toStringTag] === \"AsyncFunction\"\n\t\t\t\t\t? async () => {\n\t\t\t\t\t\t\tconst prevSchema = await this.#inputSchemaFn?.();\n\t\t\t\t\t\t\treturn inputSchema(prevSchema);\n\t\t\t\t\t\t}\n\t\t\t\t\t: async () => inputSchema,\n\t\t\tbindArgsSchemas: this.#bindArgsSchemas,\n\t\t\toutputSchema: this.#outputSchema,\n\t\t\tvalidationAdapter: this.#validationAdapter,\n\t\t\thandleValidationErrorsShape: utils?.handleValidationErrorsShape ?? this.#handleValidationErrorsShape,\n\t\t\thandleBindArgsValidationErrorsShape: this.#handleBindArgsValidationErrorsShape,\n\t\t\tctxType: {},\n\t\t\tdefaultValidationErrorsShape: this.#defaultValidationErrorsShape,\n\t\t\tthrowValidationErrors: this.#throwValidationErrors,\n\t\t});\n\t}\n\t/**\n\t * Define the bind args input validation schema for the action.\n\t * @param bindArgsSchemas Bind args input validation schemas\n\t * @param utils Optional utils object\n\t *\n\t * {@link https://next-safe-action.dev/docs/define-actions/instance-methods#bindargsschemas See docs for more information}\n\t */\n\tbindArgsSchemas(bindArgsSchemas, utils) {\n\t\treturn new _SafeActionClient({\n\t\t\tmiddlewareFns: this.#middlewareFns,\n\t\t\thandleServerError: this.#handleServerError,\n\t\t\tmetadataSchema: this.#metadataSchema,\n\t\t\tmetadata: this.#metadata,\n\t\t\tinputSchemaFn: this.#inputSchemaFn,\n\t\t\tbindArgsSchemas,\n\t\t\toutputSchema: this.#outputSchema,\n\t\t\tvalidationAdapter: this.#validationAdapter,\n\t\t\thandleValidationErrorsShape: this.#handleValidationErrorsShape,\n\t\t\thandleBindArgsValidationErrorsShape:\n\t\t\t\tutils?.handleBindArgsValidationErrorsShape ?? this.#handleBindArgsValidationErrorsShape,\n\t\t\tctxType: {},\n\t\t\tdefaultValidationErrorsShape: this.#defaultValidationErrorsShape,\n\t\t\tthrowValidationErrors: this.#throwValidationErrors,\n\t\t});\n\t}\n\t/**\n\t * Define the output data validation schema for the action.\n\t * @param schema Output data validation schema\n\t *\n\t * {@link https://next-safe-action.dev/docs/define-actions/create-the-client#outputschema See docs for more information}\n\t */\n\toutputSchema(dataSchema) {\n\t\treturn new _SafeActionClient({\n\t\t\tmiddlewareFns: this.#middlewareFns,\n\t\t\thandleServerError: this.#handleServerError,\n\t\t\tmetadataSchema: this.#metadataSchema,\n\t\t\tmetadata: this.#metadata,\n\t\t\tinputSchemaFn: this.#inputSchemaFn,\n\t\t\tbindArgsSchemas: this.#bindArgsSchemas,\n\t\t\toutputSchema: dataSchema,\n\t\t\tvalidationAdapter: this.#validationAdapter,\n\t\t\thandleValidationErrorsShape: this.#handleValidationErrorsShape,\n\t\t\thandleBindArgsValidationErrorsShape: this.#handleBindArgsValidationErrorsShape,\n\t\t\tctxType: {},\n\t\t\tdefaultValidationErrorsShape: this.#defaultValidationErrorsShape,\n\t\t\tthrowValidationErrors: this.#throwValidationErrors,\n\t\t});\n\t}\n\t/**\n\t * Define the action.\n\t * @param serverCodeFn Code that will be executed on the **server side**\n\t * @param [cb] Optional callbacks that will be called after action execution, on the server.\n\t *\n\t * {@link https://next-safe-action.dev/docs/define-actions/instance-methods#action--stateaction See docs for more information}\n\t */\n\taction(serverCodeFn, utils) {\n\t\treturn actionBuilder({\n\t\t\thandleServerError: this.#handleServerError,\n\t\t\tmiddlewareFns: this.#middlewareFns,\n\t\t\tctxType: this.#ctxType,\n\t\t\tmetadataSchema: this.#metadataSchema,\n\t\t\tmetadata: this.#metadata,\n\t\t\tinputSchemaFn: this.#inputSchemaFn,\n\t\t\tbindArgsSchemas: this.#bindArgsSchemas,\n\t\t\toutputSchema: this.#outputSchema,\n\t\t\tvalidationAdapter: this.#validationAdapter,\n\t\t\thandleValidationErrorsShape: this.#handleValidationErrorsShape,\n\t\t\thandleBindArgsValidationErrorsShape: this.#handleBindArgsValidationErrorsShape,\n\t\t\tthrowValidationErrors: this.#throwValidationErrors,\n\t\t}).action(serverCodeFn, utils);\n\t}\n\t/**\n\t * Define the stateful action.\n\t * To be used with the [`useStateAction`](https://next-safe-action.dev/docs/execute-actions/hooks/usestateaction) hook.\n\t * @param serverCodeFn Code that will be executed on the **server side**\n\t * @param [cb] Optional callbacks that will be called after action execution, on the server.\n\t *\n\t * {@link https://next-safe-action.dev/docs/define-actions/instance-methods#action--stateaction See docs for more information}\n\t */\n\tstateAction(serverCodeFn, utils) {\n\t\treturn actionBuilder({\n\t\t\thandleServerError: this.#handleServerError,\n\t\t\tmiddlewareFns: this.#middlewareFns,\n\t\t\tctxType: this.#ctxType,\n\t\t\tmetadataSchema: this.#metadataSchema,\n\t\t\tmetadata: this.#metadata,\n\t\t\tinputSchemaFn: this.#inputSchemaFn,\n\t\t\tbindArgsSchemas: this.#bindArgsSchemas,\n\t\t\toutputSchema: this.#outputSchema,\n\t\t\tvalidationAdapter: this.#validationAdapter,\n\t\t\thandleValidationErrorsShape: this.#handleValidationErrorsShape,\n\t\t\thandleBindArgsValidationErrorsShape: this.#handleBindArgsValidationErrorsShape,\n\t\t\tthrowValidationErrors: this.#throwValidationErrors,\n\t\t}).stateAction(serverCodeFn, utils);\n\t}\n};\n\n// src/middleware.ts\nvar createMiddleware = () => {\n\treturn {\n\t\tdefine: (middlewareFn) => middlewareFn,\n\t};\n};\n\n// src/index.ts\nvar createSafeActionClient = (createOpts) => {\n\tconst handleServerError =\n\t\tcreateOpts?.handleServerError ||\n\t\t((e) => {\n\t\t\tconsole.error(\"Action error:\", e.message);\n\t\t\treturn DEFAULT_SERVER_ERROR_MESSAGE;\n\t\t});\n\treturn new SafeActionClient({\n\t\tmiddlewareFns: [async ({ next }) => next({ ctx: {} })],\n\t\thandleServerError,\n\t\tinputSchemaFn: void 0,\n\t\tbindArgsSchemas: [],\n\t\toutputSchema: void 0,\n\t\tvalidationAdapter: createOpts?.validationAdapter ?? zodAdapter(),\n\t\t// use zod adapter by default\n\t\tctxType: {},\n\t\tmetadataSchema: createOpts?.defineMetadataSchema?.() ?? void 0,\n\t\tmetadata: void 0,\n\t\tdefaultValidationErrorsShape: createOpts?.defaultValidationErrorsShape ?? \"formatted\",\n\t\tthrowValidationErrors: Boolean(createOpts?.throwValidationErrors),\n\t\thandleValidationErrorsShape: async (ve) =>\n\t\t\tcreateOpts?.defaultValidationErrorsShape === \"flattened\"\n\t\t\t\t? flattenValidationErrors(ve)\n\t\t\t\t: formatValidationErrors(ve),\n\t\thandleBindArgsValidationErrorsShape: async (ve) =>\n\t\t\tcreateOpts?.defaultValidationErrorsShape === \"flattened\"\n\t\t\t\t? flattenBindArgsValidationErrors(ve)\n\t\t\t\t: formatBindArgsValidationErrors(ve),\n\t});\n};\n\n//# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0LXNhZmUtYWN0aW9uL2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLGVBQWUsUUFBUSxlQUFlO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsZ0NBQWdDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsY0FBYztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsaUNBQWlDO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRDtBQUNuRDtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDBCQUEwQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0EsZ0RBQWdEO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsZ0JBQWdCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IscUJBQXFCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsaUVBQWlFO0FBQ2pFO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFdBQVc7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRTtBQUNoRTtBQUNBO0FBQ0EsVUFBVTtBQUNWLFNBQVM7QUFDVCxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSwrRUFBK0U7QUFDL0Usd0JBQXdCLHlCQUF5QjtBQUNqRDtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSx3QkFBd0Isa0JBQWtCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsNkJBQTZCLGlCQUFpQjtBQUM5QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSwyQkFBMkIsTUFBTSxZQUFZLFNBQVM7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQWFFO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcSm9obkNocmlzdGlhbkJlcmJvblxcRG9jdW1lbnRzXFxCZXJib24gLSBUcmFpbmluZ1xcRlJPTlRFTkRcXEdyZXNoYW0lMjBSZWNvcmRpbmdzXFxmcm9udGVuZFxcbm9kZV9tb2R1bGVzXFxuZXh0LXNhZmUtYWN0aW9uXFxkaXN0XFxpbmRleC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2FkYXB0ZXJzL3pvZC50c1xudmFyIFpvZEFkYXB0ZXIgPSBjbGFzcyB7XG5cdGFzeW5jIHZhbGlkYXRlKHNjaGVtYSwgZGF0YSkge1xuXHRcdGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNjaGVtYS5zYWZlUGFyc2VBc3luYyhkYXRhKTtcblx0XHRpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IHRydWUsXG5cdFx0XHRcdGRhdGE6IHJlc3VsdC5kYXRhLFxuXHRcdFx0fTtcblx0XHR9XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0aXNzdWVzOiByZXN1bHQuZXJyb3IuaXNzdWVzLm1hcCgoeyBtZXNzYWdlLCBwYXRoIH0pID0+ICh7IG1lc3NhZ2UsIHBhdGggfSkpLFxuXHRcdH07XG5cdH1cbn07XG5mdW5jdGlvbiB6b2RBZGFwdGVyKCkge1xuXHRyZXR1cm4gbmV3IFpvZEFkYXB0ZXIoKTtcbn1cblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RlZXBtZXJnZS10c0A3LjEuMy9ub2RlX21vZHVsZXMvZGVlcG1lcmdlLXRzL2Rpc3QvaW5kZXgubWpzXG52YXIgYWN0aW9ucyA9IHtcblx0ZGVmYXVsdE1lcmdlOiBTeW1ib2woXCJkZWVwbWVyZ2UtdHM6IGRlZmF1bHQgbWVyZ2VcIiksXG5cdHNraXA6IFN5bWJvbChcImRlZXBtZXJnZS10czogc2tpcFwiKSxcbn07XG52YXIgYWN0aW9uc0ludG8gPSB7XG5cdGRlZmF1bHRNZXJnZTogYWN0aW9ucy5kZWZhdWx0TWVyZ2UsXG59O1xuZnVuY3Rpb24gZGVmYXVsdE1ldGFEYXRhVXBkYXRlcihwcmV2aW91c01ldGEsIG1ldGFNZXRhKSB7XG5cdHJldHVybiBtZXRhTWV0YTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRGaWx0ZXJWYWx1ZXModmFsdWVzLCBtZXRhKSB7XG5cdHJldHVybiB2YWx1ZXMuZmlsdGVyKCh2YWx1ZSkgPT4gdmFsdWUgIT09IHZvaWQgMCk7XG59XG52YXIgT2JqZWN0VHlwZTtcbihmdW5jdGlvbiAoT2JqZWN0VHlwZTIpIHtcblx0T2JqZWN0VHlwZTJbKE9iamVjdFR5cGUyW1wiTk9UXCJdID0gMCldID0gXCJOT1RcIjtcblx0T2JqZWN0VHlwZTJbKE9iamVjdFR5cGUyW1wiUkVDT1JEXCJdID0gMSldID0gXCJSRUNPUkRcIjtcblx0T2JqZWN0VHlwZTJbKE9iamVjdFR5cGUyW1wiQVJSQVlcIl0gPSAyKV0gPSBcIkFSUkFZXCI7XG5cdE9iamVjdFR5cGUyWyhPYmplY3RUeXBlMltcIlNFVFwiXSA9IDMpXSA9IFwiU0VUXCI7XG5cdE9iamVjdFR5cGUyWyhPYmplY3RUeXBlMltcIk1BUFwiXSA9IDQpXSA9IFwiTUFQXCI7XG5cdE9iamVjdFR5cGUyWyhPYmplY3RUeXBlMltcIk9USEVSXCJdID0gNSldID0gXCJPVEhFUlwiO1xufSkoT2JqZWN0VHlwZSB8fCAoT2JqZWN0VHlwZSA9IHt9KSk7XG5mdW5jdGlvbiBnZXRPYmplY3RUeXBlKG9iamVjdCkge1xuXHRpZiAodHlwZW9mIG9iamVjdCAhPT0gXCJvYmplY3RcIiB8fCBvYmplY3QgPT09IG51bGwpIHtcblx0XHRyZXR1cm4gMDtcblx0fVxuXHRpZiAoQXJyYXkuaXNBcnJheShvYmplY3QpKSB7XG5cdFx0cmV0dXJuIDI7XG5cdH1cblx0aWYgKGlzUmVjb3JkKG9iamVjdCkpIHtcblx0XHRyZXR1cm4gMTtcblx0fVxuXHRpZiAob2JqZWN0IGluc3RhbmNlb2YgU2V0KSB7XG5cdFx0cmV0dXJuIDM7XG5cdH1cblx0aWYgKG9iamVjdCBpbnN0YW5jZW9mIE1hcCkge1xuXHRcdHJldHVybiA0O1xuXHR9XG5cdHJldHVybiA1O1xufVxuZnVuY3Rpb24gZ2V0S2V5cyhvYmplY3RzKSB7XG5cdGNvbnN0IGtleXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuXHRmb3IgKGNvbnN0IG9iamVjdCBvZiBvYmplY3RzKSB7XG5cdFx0Zm9yIChjb25zdCBrZXkgb2YgWy4uLk9iamVjdC5rZXlzKG9iamVjdCksIC4uLk9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KV0pIHtcblx0XHRcdGtleXMuYWRkKGtleSk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBrZXlzO1xufVxuZnVuY3Rpb24gb2JqZWN0SGFzUHJvcGVydHkob2JqZWN0LCBwcm9wZXJ0eSkge1xuXHRyZXR1cm4gdHlwZW9mIG9iamVjdCA9PT0gXCJvYmplY3RcIiAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7XG59XG5mdW5jdGlvbiBnZXRJdGVyYWJsZU9mSXRlcmFibGVzKGl0ZXJhYmxlcykge1xuXHRsZXQgbV9pdGVyYWJsZXNJbmRleCA9IDA7XG5cdGxldCBtX2l0ZXJhdG9yID0gaXRlcmFibGVzWzBdPy5bU3ltYm9sLml0ZXJhdG9yXSgpO1xuXHRyZXR1cm4ge1xuXHRcdFtTeW1ib2wuaXRlcmF0b3JdKCkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0bmV4dCgpIHtcblx0XHRcdFx0XHRkbyB7XG5cdFx0XHRcdFx0XHRpZiAobV9pdGVyYXRvciA9PT0gdm9pZCAwKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiB7IGRvbmU6IHRydWUsIHZhbHVlOiB2b2lkIDAgfTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGNvbnN0IHJlc3VsdCA9IG1faXRlcmF0b3IubmV4dCgpO1xuXHRcdFx0XHRcdFx0aWYgKHJlc3VsdC5kb25lID09PSB0cnVlKSB7XG5cdFx0XHRcdFx0XHRcdG1faXRlcmFibGVzSW5kZXggKz0gMTtcblx0XHRcdFx0XHRcdFx0bV9pdGVyYXRvciA9IGl0ZXJhYmxlc1ttX2l0ZXJhYmxlc0luZGV4XT8uW1N5bWJvbC5pdGVyYXRvcl0oKTtcblx0XHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0XHRkb25lOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0dmFsdWU6IHJlc3VsdC52YWx1ZSxcblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0fSB3aGlsZSAodHJ1ZSk7XG5cdFx0XHRcdH0sXG5cdFx0XHR9O1xuXHRcdH0sXG5cdH07XG59XG52YXIgdmFsaWRSZWNvcmRUb1N0cmluZ1ZhbHVlcyA9IFtcIltvYmplY3QgT2JqZWN0XVwiLCBcIltvYmplY3QgTW9kdWxlXVwiXTtcbmZ1bmN0aW9uIGlzUmVjb3JkKHZhbHVlKSB7XG5cdGlmICghdmFsaWRSZWNvcmRUb1N0cmluZ1ZhbHVlcy5pbmNsdWRlcyhPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpKSkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXHRjb25zdCB7IGNvbnN0cnVjdG9yIH0gPSB2YWx1ZTtcblx0aWYgKGNvbnN0cnVjdG9yID09PSB2b2lkIDApIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXHRjb25zdCBwcm90b3R5cGUgPSBjb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG5cdGlmIChcblx0XHRwcm90b3R5cGUgPT09IG51bGwgfHxcblx0XHR0eXBlb2YgcHJvdG90eXBlICE9PSBcIm9iamVjdFwiIHx8XG5cdFx0IXZhbGlkUmVjb3JkVG9TdHJpbmdWYWx1ZXMuaW5jbHVkZXMoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHByb3RvdHlwZSkpXG5cdCkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXHRpZiAoIXByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShcImlzUHJvdG90eXBlT2ZcIikpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblx0cmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBtZXJnZVJlY29yZHMkMSh2YWx1ZXMsIHV0aWxzLCBtZXRhKSB7XG5cdGNvbnN0IHJlc3VsdCA9IHt9O1xuXHRmb3IgKGNvbnN0IGtleSBvZiBnZXRLZXlzKHZhbHVlcykpIHtcblx0XHRjb25zdCBwcm9wVmFsdWVzID0gW107XG5cdFx0Zm9yIChjb25zdCB2YWx1ZSBvZiB2YWx1ZXMpIHtcblx0XHRcdGlmIChvYmplY3RIYXNQcm9wZXJ0eSh2YWx1ZSwga2V5KSkge1xuXHRcdFx0XHRwcm9wVmFsdWVzLnB1c2godmFsdWVba2V5XSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmIChwcm9wVmFsdWVzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXHRcdGNvbnN0IHVwZGF0ZWRNZXRhID0gdXRpbHMubWV0YURhdGFVcGRhdGVyKG1ldGEsIHtcblx0XHRcdGtleSxcblx0XHRcdHBhcmVudHM6IHZhbHVlcyxcblx0XHR9KTtcblx0XHRjb25zdCBwcm9wZXJ0eVJlc3VsdCA9IG1lcmdlVW5rbm93bnMocHJvcFZhbHVlcywgdXRpbHMsIHVwZGF0ZWRNZXRhKTtcblx0XHRpZiAocHJvcGVydHlSZXN1bHQgPT09IGFjdGlvbnMuc2tpcCkge1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXHRcdGlmIChrZXkgPT09IFwiX19wcm90b19fXCIpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXN1bHQsIGtleSwge1xuXHRcdFx0XHR2YWx1ZTogcHJvcGVydHlSZXN1bHQsXG5cdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdFx0d3JpdGFibGU6IHRydWUsXG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVzdWx0W2tleV0gPSBwcm9wZXJ0eVJlc3VsdDtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIG1lcmdlQXJyYXlzJDEodmFsdWVzKSB7XG5cdHJldHVybiB2YWx1ZXMuZmxhdCgpO1xufVxuZnVuY3Rpb24gbWVyZ2VTZXRzJDEodmFsdWVzKSB7XG5cdHJldHVybiBuZXcgU2V0KGdldEl0ZXJhYmxlT2ZJdGVyYWJsZXModmFsdWVzKSk7XG59XG5mdW5jdGlvbiBtZXJnZU1hcHMkMSh2YWx1ZXMpIHtcblx0cmV0dXJuIG5ldyBNYXAoZ2V0SXRlcmFibGVPZkl0ZXJhYmxlcyh2YWx1ZXMpKTtcbn1cbmZ1bmN0aW9uIG1lcmdlT3RoZXJzJDEodmFsdWVzKSB7XG5cdHJldHVybiB2YWx1ZXMuYXQoLTEpO1xufVxudmFyIG1lcmdlRnVuY3Rpb25zID0ge1xuXHRtZXJnZVJlY29yZHM6IG1lcmdlUmVjb3JkcyQxLFxuXHRtZXJnZUFycmF5czogbWVyZ2VBcnJheXMkMSxcblx0bWVyZ2VTZXRzOiBtZXJnZVNldHMkMSxcblx0bWVyZ2VNYXBzOiBtZXJnZU1hcHMkMSxcblx0bWVyZ2VPdGhlcnM6IG1lcmdlT3RoZXJzJDEsXG59O1xuZnVuY3Rpb24gZGVlcG1lcmdlKC4uLm9iamVjdHMpIHtcblx0cmV0dXJuIGRlZXBtZXJnZUN1c3RvbSh7fSkoLi4ub2JqZWN0cyk7XG59XG5mdW5jdGlvbiBkZWVwbWVyZ2VDdXN0b20ob3B0aW9ucywgcm9vdE1ldGFEYXRhKSB7XG5cdGNvbnN0IHV0aWxzID0gZ2V0VXRpbHMob3B0aW9ucywgY3VzdG9taXplZERlZXBtZXJnZSk7XG5cdGZ1bmN0aW9uIGN1c3RvbWl6ZWREZWVwbWVyZ2UoLi4ub2JqZWN0cykge1xuXHRcdHJldHVybiBtZXJnZVVua25vd25zKG9iamVjdHMsIHV0aWxzLCByb290TWV0YURhdGEpO1xuXHR9XG5cdHJldHVybiBjdXN0b21pemVkRGVlcG1lcmdlO1xufVxuZnVuY3Rpb24gZ2V0VXRpbHMob3B0aW9ucywgY3VzdG9taXplZERlZXBtZXJnZSkge1xuXHRyZXR1cm4ge1xuXHRcdGRlZmF1bHRNZXJnZUZ1bmN0aW9uczogbWVyZ2VGdW5jdGlvbnMsXG5cdFx0bWVyZ2VGdW5jdGlvbnM6IHtcblx0XHRcdC4uLm1lcmdlRnVuY3Rpb25zLFxuXHRcdFx0Li4uT2JqZWN0LmZyb21FbnRyaWVzKFxuXHRcdFx0XHRPYmplY3QuZW50cmllcyhvcHRpb25zKVxuXHRcdFx0XHRcdC5maWx0ZXIoKFtrZXksIG9wdGlvbl0pID0+IE9iamVjdC5oYXNPd24obWVyZ2VGdW5jdGlvbnMsIGtleSkpXG5cdFx0XHRcdFx0Lm1hcCgoW2tleSwgb3B0aW9uXSkgPT4gKG9wdGlvbiA9PT0gZmFsc2UgPyBba2V5LCBtZXJnZUZ1bmN0aW9ucy5tZXJnZU90aGVyc10gOiBba2V5LCBvcHRpb25dKSlcblx0XHRcdCksXG5cdFx0fSxcblx0XHRtZXRhRGF0YVVwZGF0ZXI6IG9wdGlvbnMubWV0YURhdGFVcGRhdGVyID8/IGRlZmF1bHRNZXRhRGF0YVVwZGF0ZXIsXG5cdFx0ZGVlcG1lcmdlOiBjdXN0b21pemVkRGVlcG1lcmdlLFxuXHRcdHVzZUltcGxpY2l0RGVmYXVsdE1lcmdpbmc6IG9wdGlvbnMuZW5hYmxlSW1wbGljaXREZWZhdWx0TWVyZ2luZyA/PyBmYWxzZSxcblx0XHRmaWx0ZXJWYWx1ZXM6IG9wdGlvbnMuZmlsdGVyVmFsdWVzID09PSBmYWxzZSA/IHZvaWQgMCA6IChvcHRpb25zLmZpbHRlclZhbHVlcyA/PyBkZWZhdWx0RmlsdGVyVmFsdWVzKSxcblx0XHRhY3Rpb25zLFxuXHR9O1xufVxuZnVuY3Rpb24gbWVyZ2VVbmtub3ducyh2YWx1ZXMsIHV0aWxzLCBtZXRhKSB7XG5cdGNvbnN0IGZpbHRlcmVkVmFsdWVzID0gdXRpbHMuZmlsdGVyVmFsdWVzPy4odmFsdWVzLCBtZXRhKSA/PyB2YWx1ZXM7XG5cdGlmIChmaWx0ZXJlZFZhbHVlcy5sZW5ndGggPT09IDApIHtcblx0XHRyZXR1cm4gdm9pZCAwO1xuXHR9XG5cdGlmIChmaWx0ZXJlZFZhbHVlcy5sZW5ndGggPT09IDEpIHtcblx0XHRyZXR1cm4gbWVyZ2VPdGhlcnMoZmlsdGVyZWRWYWx1ZXMsIHV0aWxzLCBtZXRhKTtcblx0fVxuXHRjb25zdCB0eXBlID0gZ2V0T2JqZWN0VHlwZShmaWx0ZXJlZFZhbHVlc1swXSk7XG5cdGlmICh0eXBlICE9PSAwICYmIHR5cGUgIT09IDUpIHtcblx0XHRmb3IgKGxldCBtX2luZGV4ID0gMTsgbV9pbmRleCA8IGZpbHRlcmVkVmFsdWVzLmxlbmd0aDsgbV9pbmRleCsrKSB7XG5cdFx0XHRpZiAoZ2V0T2JqZWN0VHlwZShmaWx0ZXJlZFZhbHVlc1ttX2luZGV4XSkgPT09IHR5cGUpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbWVyZ2VPdGhlcnMoZmlsdGVyZWRWYWx1ZXMsIHV0aWxzLCBtZXRhKTtcblx0XHR9XG5cdH1cblx0c3dpdGNoICh0eXBlKSB7XG5cdFx0Y2FzZSAxOiB7XG5cdFx0XHRyZXR1cm4gbWVyZ2VSZWNvcmRzKGZpbHRlcmVkVmFsdWVzLCB1dGlscywgbWV0YSk7XG5cdFx0fVxuXHRcdGNhc2UgMjoge1xuXHRcdFx0cmV0dXJuIG1lcmdlQXJyYXlzKGZpbHRlcmVkVmFsdWVzLCB1dGlscywgbWV0YSk7XG5cdFx0fVxuXHRcdGNhc2UgMzoge1xuXHRcdFx0cmV0dXJuIG1lcmdlU2V0cyhmaWx0ZXJlZFZhbHVlcywgdXRpbHMsIG1ldGEpO1xuXHRcdH1cblx0XHRjYXNlIDQ6IHtcblx0XHRcdHJldHVybiBtZXJnZU1hcHMoZmlsdGVyZWRWYWx1ZXMsIHV0aWxzLCBtZXRhKTtcblx0XHR9XG5cdFx0ZGVmYXVsdDoge1xuXHRcdFx0cmV0dXJuIG1lcmdlT3RoZXJzKGZpbHRlcmVkVmFsdWVzLCB1dGlscywgbWV0YSk7XG5cdFx0fVxuXHR9XG59XG5mdW5jdGlvbiBtZXJnZVJlY29yZHModmFsdWVzLCB1dGlscywgbWV0YSkge1xuXHRjb25zdCByZXN1bHQgPSB1dGlscy5tZXJnZUZ1bmN0aW9ucy5tZXJnZVJlY29yZHModmFsdWVzLCB1dGlscywgbWV0YSk7XG5cdGlmIChcblx0XHRyZXN1bHQgPT09IGFjdGlvbnMuZGVmYXVsdE1lcmdlIHx8XG5cdFx0KHV0aWxzLnVzZUltcGxpY2l0RGVmYXVsdE1lcmdpbmcgJiZcblx0XHRcdHJlc3VsdCA9PT0gdm9pZCAwICYmXG5cdFx0XHR1dGlscy5tZXJnZUZ1bmN0aW9ucy5tZXJnZVJlY29yZHMgIT09IHV0aWxzLmRlZmF1bHRNZXJnZUZ1bmN0aW9ucy5tZXJnZVJlY29yZHMpXG5cdCkge1xuXHRcdHJldHVybiB1dGlscy5kZWZhdWx0TWVyZ2VGdW5jdGlvbnMubWVyZ2VSZWNvcmRzKHZhbHVlcywgdXRpbHMsIG1ldGEpO1xuXHR9XG5cdHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBtZXJnZUFycmF5cyh2YWx1ZXMsIHV0aWxzLCBtZXRhKSB7XG5cdGNvbnN0IHJlc3VsdCA9IHV0aWxzLm1lcmdlRnVuY3Rpb25zLm1lcmdlQXJyYXlzKHZhbHVlcywgdXRpbHMsIG1ldGEpO1xuXHRpZiAoXG5cdFx0cmVzdWx0ID09PSBhY3Rpb25zLmRlZmF1bHRNZXJnZSB8fFxuXHRcdCh1dGlscy51c2VJbXBsaWNpdERlZmF1bHRNZXJnaW5nICYmXG5cdFx0XHRyZXN1bHQgPT09IHZvaWQgMCAmJlxuXHRcdFx0dXRpbHMubWVyZ2VGdW5jdGlvbnMubWVyZ2VBcnJheXMgIT09IHV0aWxzLmRlZmF1bHRNZXJnZUZ1bmN0aW9ucy5tZXJnZUFycmF5cylcblx0KSB7XG5cdFx0cmV0dXJuIHV0aWxzLmRlZmF1bHRNZXJnZUZ1bmN0aW9ucy5tZXJnZUFycmF5cyh2YWx1ZXMpO1xuXHR9XG5cdHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBtZXJnZVNldHModmFsdWVzLCB1dGlscywgbWV0YSkge1xuXHRjb25zdCByZXN1bHQgPSB1dGlscy5tZXJnZUZ1bmN0aW9ucy5tZXJnZVNldHModmFsdWVzLCB1dGlscywgbWV0YSk7XG5cdGlmIChcblx0XHRyZXN1bHQgPT09IGFjdGlvbnMuZGVmYXVsdE1lcmdlIHx8XG5cdFx0KHV0aWxzLnVzZUltcGxpY2l0RGVmYXVsdE1lcmdpbmcgJiZcblx0XHRcdHJlc3VsdCA9PT0gdm9pZCAwICYmXG5cdFx0XHR1dGlscy5tZXJnZUZ1bmN0aW9ucy5tZXJnZVNldHMgIT09IHV0aWxzLmRlZmF1bHRNZXJnZUZ1bmN0aW9ucy5tZXJnZVNldHMpXG5cdCkge1xuXHRcdHJldHVybiB1dGlscy5kZWZhdWx0TWVyZ2VGdW5jdGlvbnMubWVyZ2VTZXRzKHZhbHVlcyk7XG5cdH1cblx0cmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIG1lcmdlTWFwcyh2YWx1ZXMsIHV0aWxzLCBtZXRhKSB7XG5cdGNvbnN0IHJlc3VsdCA9IHV0aWxzLm1lcmdlRnVuY3Rpb25zLm1lcmdlTWFwcyh2YWx1ZXMsIHV0aWxzLCBtZXRhKTtcblx0aWYgKFxuXHRcdHJlc3VsdCA9PT0gYWN0aW9ucy5kZWZhdWx0TWVyZ2UgfHxcblx0XHQodXRpbHMudXNlSW1wbGljaXREZWZhdWx0TWVyZ2luZyAmJlxuXHRcdFx0cmVzdWx0ID09PSB2b2lkIDAgJiZcblx0XHRcdHV0aWxzLm1lcmdlRnVuY3Rpb25zLm1lcmdlTWFwcyAhPT0gdXRpbHMuZGVmYXVsdE1lcmdlRnVuY3Rpb25zLm1lcmdlTWFwcylcblx0KSB7XG5cdFx0cmV0dXJuIHV0aWxzLmRlZmF1bHRNZXJnZUZ1bmN0aW9ucy5tZXJnZU1hcHModmFsdWVzKTtcblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gbWVyZ2VPdGhlcnModmFsdWVzLCB1dGlscywgbWV0YSkge1xuXHRjb25zdCByZXN1bHQgPSB1dGlscy5tZXJnZUZ1bmN0aW9ucy5tZXJnZU90aGVycyh2YWx1ZXMsIHV0aWxzLCBtZXRhKTtcblx0aWYgKFxuXHRcdHJlc3VsdCA9PT0gYWN0aW9ucy5kZWZhdWx0TWVyZ2UgfHxcblx0XHQodXRpbHMudXNlSW1wbGljaXREZWZhdWx0TWVyZ2luZyAmJlxuXHRcdFx0cmVzdWx0ID09PSB2b2lkIDAgJiZcblx0XHRcdHV0aWxzLm1lcmdlRnVuY3Rpb25zLm1lcmdlT3RoZXJzICE9PSB1dGlscy5kZWZhdWx0TWVyZ2VGdW5jdGlvbnMubWVyZ2VPdGhlcnMpXG5cdCkge1xuXHRcdHJldHVybiB1dGlscy5kZWZhdWx0TWVyZ2VGdW5jdGlvbnMubWVyZ2VPdGhlcnModmFsdWVzKTtcblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG4vLyBzcmMvbmV4dC9lcnJvcnMvYmFpbG91dC10by1jc3IudHNcbnZhciBCQUlMT1VUX1RPX0NTUiA9IFwiQkFJTE9VVF9UT19DTElFTlRfU0lERV9SRU5ERVJJTkdcIjtcbmZ1bmN0aW9uIGlzQmFpbG91dFRvQ1NSRXJyb3IoZXJyKSB7XG5cdGlmICh0eXBlb2YgZXJyICE9PSBcIm9iamVjdFwiIHx8IGVyciA9PT0gbnVsbCB8fCAhKFwiZGlnZXN0XCIgaW4gZXJyKSkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXHRyZXR1cm4gZXJyLmRpZ2VzdCA9PT0gQkFJTE9VVF9UT19DU1I7XG59XG5cbi8vIHNyYy9uZXh0L2Vycm9ycy9odHRwLWFjY2Vzcy1mYWxsYmFjay50c1xudmFyIEhUVFBBY2Nlc3NFcnJvclN0YXR1cyA9IHtcblx0Tk9UX0ZPVU5EOiA0MDQsXG5cdEZPUkJJRERFTjogNDAzLFxuXHRVTkFVVEhPUklaRUQ6IDQwMSxcbn07XG52YXIgQUxMT1dFRF9DT0RFUyA9IG5ldyBTZXQoT2JqZWN0LnZhbHVlcyhIVFRQQWNjZXNzRXJyb3JTdGF0dXMpKTtcbnZhciBIVFRQX0VSUk9SX0ZBTExCQUNLX0VSUk9SX0NPREUgPSBcIk5FWFRfSFRUUF9FUlJPUl9GQUxMQkFDS1wiO1xuZnVuY3Rpb24gaXNIVFRQQWNjZXNzRmFsbGJhY2tFcnJvcihlcnJvcikge1xuXHRpZiAodHlwZW9mIGVycm9yICE9PSBcIm9iamVjdFwiIHx8IGVycm9yID09PSBudWxsIHx8ICEoXCJkaWdlc3RcIiBpbiBlcnJvcikgfHwgdHlwZW9mIGVycm9yLmRpZ2VzdCAhPT0gXCJzdHJpbmdcIikge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXHRjb25zdCBbcHJlZml4LCBodHRwU3RhdHVzXSA9IGVycm9yLmRpZ2VzdC5zcGxpdChcIjtcIik7XG5cdHJldHVybiBwcmVmaXggPT09IEhUVFBfRVJST1JfRkFMTEJBQ0tfRVJST1JfQ09ERSAmJiBBTExPV0VEX0NPREVTLmhhcyhOdW1iZXIoaHR0cFN0YXR1cykpO1xufVxuZnVuY3Rpb24gZ2V0QWNjZXNzRmFsbGJhY2tIVFRQU3RhdHVzKGVycm9yKSB7XG5cdGNvbnN0IGh0dHBTdGF0dXMgPSBlcnJvci5kaWdlc3Quc3BsaXQoXCI7XCIpWzFdO1xuXHRyZXR1cm4gTnVtYmVyKGh0dHBTdGF0dXMpO1xufVxuXG4vLyBzcmMvbmV4dC9lcnJvcnMvcmVkaXJlY3QudHNcbnZhciBSZWRpcmVjdFN0YXR1c0NvZGUgPSAvKiBAX19QVVJFX18gKi8gKChSZWRpcmVjdFN0YXR1c0NvZGUyKSA9PiB7XG5cdFJlZGlyZWN0U3RhdHVzQ29kZTJbKFJlZGlyZWN0U3RhdHVzQ29kZTJbXCJTZWVPdGhlclwiXSA9IDMwMyldID0gXCJTZWVPdGhlclwiO1xuXHRSZWRpcmVjdFN0YXR1c0NvZGUyWyhSZWRpcmVjdFN0YXR1c0NvZGUyW1wiVGVtcG9yYXJ5UmVkaXJlY3RcIl0gPSAzMDcpXSA9IFwiVGVtcG9yYXJ5UmVkaXJlY3RcIjtcblx0UmVkaXJlY3RTdGF0dXNDb2RlMlsoUmVkaXJlY3RTdGF0dXNDb2RlMltcIlBlcm1hbmVudFJlZGlyZWN0XCJdID0gMzA4KV0gPSBcIlBlcm1hbmVudFJlZGlyZWN0XCI7XG5cdHJldHVybiBSZWRpcmVjdFN0YXR1c0NvZGUyO1xufSkoUmVkaXJlY3RTdGF0dXNDb2RlIHx8IHt9KTtcbnZhciBSRURJUkVDVF9FUlJPUl9DT0RFID0gXCJORVhUX1JFRElSRUNUXCI7XG5mdW5jdGlvbiBpc1JlZGlyZWN0RXJyb3IoZXJyb3IpIHtcblx0aWYgKHR5cGVvZiBlcnJvciAhPT0gXCJvYmplY3RcIiB8fCBlcnJvciA9PT0gbnVsbCB8fCAhKFwiZGlnZXN0XCIgaW4gZXJyb3IpIHx8IHR5cGVvZiBlcnJvci5kaWdlc3QgIT09IFwic3RyaW5nXCIpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblx0Y29uc3QgZGlnZXN0ID0gZXJyb3IuZGlnZXN0LnNwbGl0KFwiO1wiKTtcblx0Y29uc3QgW2Vycm9yQ29kZSwgdHlwZV0gPSBkaWdlc3Q7XG5cdGNvbnN0IGRlc3RpbmF0aW9uID0gZGlnZXN0LnNsaWNlKDIsIC0yKS5qb2luKFwiO1wiKTtcblx0Y29uc3Qgc3RhdHVzID0gZGlnZXN0LmF0KC0yKTtcblx0Y29uc3Qgc3RhdHVzQ29kZSA9IE51bWJlcihzdGF0dXMpO1xuXHRyZXR1cm4gKFxuXHRcdGVycm9yQ29kZSA9PT0gUkVESVJFQ1RfRVJST1JfQ09ERSAmJlxuXHRcdCh0eXBlID09PSBcInJlcGxhY2VcIiB8fCB0eXBlID09PSBcInB1c2hcIikgJiZcblx0XHR0eXBlb2YgZGVzdGluYXRpb24gPT09IFwic3RyaW5nXCIgJiZcblx0XHQhaXNOYU4oc3RhdHVzQ29kZSkgJiZcblx0XHRzdGF0dXNDb2RlIGluIFJlZGlyZWN0U3RhdHVzQ29kZVxuXHQpO1xufVxuXG4vLyBzcmMvbmV4dC9lcnJvcnMvcm91dGVyLnRzXG5mdW5jdGlvbiBpc05leHRSb3V0ZXJFcnJvcihlcnJvcikge1xuXHRyZXR1cm4gaXNSZWRpcmVjdEVycm9yKGVycm9yKSB8fCBpc0hUVFBBY2Nlc3NGYWxsYmFja0Vycm9yKGVycm9yKTtcbn1cblxuLy8gc3JjL25leHQvZXJyb3JzL2R5bmFtaWMtdXNhZ2UudHNcbnZhciBEWU5BTUlDX0VSUk9SX0NPREUgPSBcIkRZTkFNSUNfU0VSVkVSX1VTQUdFXCI7XG5mdW5jdGlvbiBpc0R5bmFtaWNTZXJ2ZXJFcnJvcihlcnIpIHtcblx0aWYgKHR5cGVvZiBlcnIgIT09IFwib2JqZWN0XCIgfHwgZXJyID09PSBudWxsIHx8ICEoXCJkaWdlc3RcIiBpbiBlcnIpIHx8IHR5cGVvZiBlcnIuZGlnZXN0ICE9PSBcInN0cmluZ1wiKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cdHJldHVybiBlcnIuZGlnZXN0ID09PSBEWU5BTUlDX0VSUk9SX0NPREU7XG59XG5mdW5jdGlvbiBpc0R5bmFtaWNQb3N0cG9uZVJlYXNvbihyZWFzb24pIHtcblx0cmV0dXJuIChcblx0XHRyZWFzb24uaW5jbHVkZXMoXCJuZWVkcyB0byBiYWlsIG91dCBvZiBwcmVyZW5kZXJpbmcgYXQgdGhpcyBwb2ludCBiZWNhdXNlIGl0IHVzZWRcIikgJiZcblx0XHRyZWFzb24uaW5jbHVkZXMoXCJMZWFybiBtb3JlOiBodHRwczovL25leHRqcy5vcmcvZG9jcy9tZXNzYWdlcy9wcHItY2F1Z2h0LWVycm9yXCIpXG5cdCk7XG59XG5mdW5jdGlvbiBpc0R5bmFtaWNQb3N0cG9uZShlcnIpIHtcblx0aWYgKFxuXHRcdHR5cGVvZiBlcnIgPT09IFwib2JqZWN0XCIgJiZcblx0XHRlcnIgIT09IG51bGwgJiYgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG5cdFx0dHlwZW9mIGVyci5tZXNzYWdlID09PSBcInN0cmluZ1wiXG5cdCkge1xuXHRcdHJldHVybiBpc0R5bmFtaWNQb3N0cG9uZVJlYXNvbihlcnIubWVzc2FnZSk7XG5cdH1cblx0cmV0dXJuIGZhbHNlO1xufVxudmFyIGlzRHluYW1pY1VzYWdlRXJyb3IgPSAoZXJyKSA9PlxuXHRpc0R5bmFtaWNTZXJ2ZXJFcnJvcihlcnIpIHx8IGlzQmFpbG91dFRvQ1NSRXJyb3IoZXJyKSB8fCBpc05leHRSb3V0ZXJFcnJvcihlcnIpIHx8IGlzRHluYW1pY1Bvc3Rwb25lKGVycik7XG5cbi8vIHNyYy9uZXh0L2Vycm9ycy9wb3N0cG9uZS50c1xudmFyIFJFQUNUX1BPU1RQT05FX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QucG9zdHBvbmVcIik7XG5mdW5jdGlvbiBpc1Bvc3Rwb25lKGVycm9yKSB7XG5cdHJldHVybiAoXG5cdFx0dHlwZW9mIGVycm9yID09PSBcIm9iamVjdFwiICYmXG5cdFx0ZXJyb3IgIT09IG51bGwgJiYgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG5cdFx0ZXJyb3IuJCR0eXBlb2YgPT09IFJFQUNUX1BPU1RQT05FX1RZUEVcblx0KTtcbn1cblxuLy8gc3JjL25leHQvZXJyb3JzL2luZGV4LnRzXG5mdW5jdGlvbiBpc05vdEZvdW5kRXJyb3IoZXJyb3IpIHtcblx0cmV0dXJuIGlzSFRUUEFjY2Vzc0ZhbGxiYWNrRXJyb3IoZXJyb3IpICYmIGdldEFjY2Vzc0ZhbGxiYWNrSFRUUFN0YXR1cyhlcnJvcikgPT09IDQwNDtcbn1cbmZ1bmN0aW9uIGlzRm9yYmlkZGVuRXJyb3IoZXJyb3IpIHtcblx0cmV0dXJuIGlzSFRUUEFjY2Vzc0ZhbGxiYWNrRXJyb3IoZXJyb3IpICYmIGdldEFjY2Vzc0ZhbGxiYWNrSFRUUFN0YXR1cyhlcnJvcikgPT09IDQwMztcbn1cbmZ1bmN0aW9uIGlzVW5hdXRob3JpemVkRXJyb3IoZXJyb3IpIHtcblx0cmV0dXJuIGlzSFRUUEFjY2Vzc0ZhbGxiYWNrRXJyb3IoZXJyb3IpICYmIGdldEFjY2Vzc0ZhbGxiYWNrSFRUUFN0YXR1cyhlcnJvcikgPT09IDQwMTtcbn1cbmZ1bmN0aW9uIGlzRnJhbWV3b3JrRXJyb3IoZXJyb3IpIHtcblx0cmV0dXJuIGlzTmV4dFJvdXRlckVycm9yKGVycm9yKSB8fCBpc0JhaWxvdXRUb0NTUkVycm9yKGVycm9yKSB8fCBpc0R5bmFtaWNVc2FnZUVycm9yKGVycm9yKSB8fCBpc1Bvc3Rwb25lKGVycm9yKTtcbn1cblxuLy8gc3JjL3V0aWxzLnRzXG52YXIgREVGQVVMVF9TRVJWRVJfRVJST1JfTUVTU0FHRSA9IFwiU29tZXRoaW5nIHdlbnQgd3Jvbmcgd2hpbGUgZXhlY3V0aW5nIHRoZSBvcGVyYXRpb24uXCI7XG52YXIgaXNFcnJvciA9IChlcnJvcikgPT4gZXJyb3IgaW5zdGFuY2VvZiBFcnJvcjtcbnZhciB3aW5uaW5nQm9vbGVhbiA9ICguLi5hcmdzKSA9PiB7XG5cdHJldHVybiBhcmdzLnJlZHVjZSgoYWNjLCB2KSA9PiAodHlwZW9mIHYgPT09IFwiYm9vbGVhblwiID8gdiA6IGFjYyksIGZhbHNlKTtcbn07XG5cbi8vIHNyYy92YWxpZGF0aW9uLWVycm9ycy50c1xudmFyIGJ1aWxkVmFsaWRhdGlvbkVycm9ycyA9IChpc3N1ZXMpID0+IHtcblx0Y29uc3QgdmUgPSB7fTtcblx0Zm9yIChjb25zdCBpc3N1ZSBvZiBpc3N1ZXMpIHtcblx0XHRjb25zdCB7IHBhdGgsIG1lc3NhZ2UgfSA9IGlzc3VlO1xuXHRcdGlmICghcGF0aCB8fCBwYXRoLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0dmUuX2Vycm9ycyA9IHZlLl9lcnJvcnMgPyBbLi4udmUuX2Vycm9ycywgbWVzc2FnZV0gOiBbbWVzc2FnZV07XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cdFx0bGV0IHJlZiA9IHZlO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgcGF0aC5sZW5ndGggLSAxOyBpKyspIHtcblx0XHRcdGNvbnN0IGsgPSBwYXRoW2ldO1xuXHRcdFx0aWYgKCFyZWZba10pIHtcblx0XHRcdFx0cmVmW2tdID0ge307XG5cdFx0XHR9XG5cdFx0XHRyZWYgPSByZWZba107XG5cdFx0fVxuXHRcdGNvbnN0IGtleSA9IHBhdGhbcGF0aC5sZW5ndGggLSAxXTtcblx0XHRyZWZba2V5XSA9IHJlZltrZXldPy5fZXJyb3JzXG5cdFx0XHQ/IHtcblx0XHRcdFx0XHQuLi5zdHJ1Y3R1cmVkQ2xvbmUocmVmW2tleV0pLFxuXHRcdFx0XHRcdF9lcnJvcnM6IFsuLi5yZWZba2V5XS5fZXJyb3JzLCBtZXNzYWdlXSxcblx0XHRcdFx0fVxuXHRcdFx0OiB7IC4uLnN0cnVjdHVyZWRDbG9uZShyZWZba2V5XSksIF9lcnJvcnM6IFttZXNzYWdlXSB9O1xuXHR9XG5cdHJldHVybiB2ZTtcbn07XG52YXIgQWN0aW9uU2VydmVyVmFsaWRhdGlvbkVycm9yID0gY2xhc3MgZXh0ZW5kcyBFcnJvciB7XG5cdHZhbGlkYXRpb25FcnJvcnM7XG5cdGNvbnN0cnVjdG9yKHZhbGlkYXRpb25FcnJvcnMpIHtcblx0XHRzdXBlcihcIlNlcnZlciBBY3Rpb24gc2VydmVyIHZhbGlkYXRpb24gZXJyb3Iocykgb2NjdXJyZWRcIik7XG5cdFx0dGhpcy52YWxpZGF0aW9uRXJyb3JzID0gdmFsaWRhdGlvbkVycm9ycztcblx0fVxufTtcbnZhciBBY3Rpb25WYWxpZGF0aW9uRXJyb3IgPSBjbGFzcyBleHRlbmRzIEVycm9yIHtcblx0dmFsaWRhdGlvbkVycm9ycztcblx0Y29uc3RydWN0b3IodmFsaWRhdGlvbkVycm9ycykge1xuXHRcdHN1cGVyKFwiU2VydmVyIEFjdGlvbiB2YWxpZGF0aW9uIGVycm9yKHMpIG9jY3VycmVkXCIpO1xuXHRcdHRoaXMudmFsaWRhdGlvbkVycm9ycyA9IHZhbGlkYXRpb25FcnJvcnM7XG5cdH1cbn07XG5mdW5jdGlvbiByZXR1cm5WYWxpZGF0aW9uRXJyb3JzKHNjaGVtYSwgdmFsaWRhdGlvbkVycm9ycykge1xuXHR0aHJvdyBuZXcgQWN0aW9uU2VydmVyVmFsaWRhdGlvbkVycm9yKHZhbGlkYXRpb25FcnJvcnMpO1xufVxuZnVuY3Rpb24gZm9ybWF0VmFsaWRhdGlvbkVycm9ycyh2YWxpZGF0aW9uRXJyb3JzKSB7XG5cdHJldHVybiB2YWxpZGF0aW9uRXJyb3JzO1xufVxuZnVuY3Rpb24gZm9ybWF0QmluZEFyZ3NWYWxpZGF0aW9uRXJyb3JzKGJpbmRBcmdzVmFsaWRhdGlvbkVycm9ycykge1xuXHRyZXR1cm4gYmluZEFyZ3NWYWxpZGF0aW9uRXJyb3JzO1xufVxuZnVuY3Rpb24gZmxhdHRlblZhbGlkYXRpb25FcnJvcnModmFsaWRhdGlvbkVycm9ycykge1xuXHRjb25zdCBmbGF0dGVuZWQgPSB7XG5cdFx0Zm9ybUVycm9yczogW10sXG5cdFx0ZmllbGRFcnJvcnM6IHt9LFxuXHR9O1xuXHRmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyh2YWxpZGF0aW9uRXJyb3JzID8/IHt9KSkge1xuXHRcdGlmIChrZXkgPT09IFwiX2Vycm9yc1wiICYmIEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG5cdFx0XHRmbGF0dGVuZWQuZm9ybUVycm9ycyA9IFsuLi52YWx1ZV07XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmIChcIl9lcnJvcnNcIiBpbiB2YWx1ZSkge1xuXHRcdFx0XHRmbGF0dGVuZWQuZmllbGRFcnJvcnNba2V5XSA9IFsuLi52YWx1ZS5fZXJyb3JzXTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0cmV0dXJuIGZsYXR0ZW5lZDtcbn1cbmZ1bmN0aW9uIGZsYXR0ZW5CaW5kQXJnc1ZhbGlkYXRpb25FcnJvcnMoYmluZEFyZ3NWYWxpZGF0aW9uRXJyb3JzKSB7XG5cdHJldHVybiBiaW5kQXJnc1ZhbGlkYXRpb25FcnJvcnMubWFwKCh2ZSkgPT4gZmxhdHRlblZhbGlkYXRpb25FcnJvcnModmUpKTtcbn1cbnZhciBBY3Rpb25NZXRhZGF0YVZhbGlkYXRpb25FcnJvciA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xuXHR2YWxpZGF0aW9uRXJyb3JzO1xuXHRjb25zdHJ1Y3Rvcih2YWxpZGF0aW9uRXJyb3JzKSB7XG5cdFx0c3VwZXIoXCJJbnZhbGlkIG1ldGFkYXRhIGlucHV0LiBQbGVhc2UgYmUgc3VyZSB0byBwYXNzIG1ldGFkYXRhIHZpYSBgbWV0YWRhdGFgIG1ldGhvZCBiZWZvcmUgZGVmaW5pbmcgdGhlIGFjdGlvbi5cIik7XG5cdFx0dGhpcy5uYW1lID0gXCJBY3Rpb25NZXRhZGF0YUVycm9yXCI7XG5cdFx0dGhpcy52YWxpZGF0aW9uRXJyb3JzID0gdmFsaWRhdGlvbkVycm9ycztcblx0fVxufTtcbnZhciBBY3Rpb25PdXRwdXREYXRhVmFsaWRhdGlvbkVycm9yID0gY2xhc3MgZXh0ZW5kcyBFcnJvciB7XG5cdHZhbGlkYXRpb25FcnJvcnM7XG5cdGNvbnN0cnVjdG9yKHZhbGlkYXRpb25FcnJvcnMpIHtcblx0XHRzdXBlcihcblx0XHRcdFwiSW52YWxpZCBhY3Rpb24gZGF0YSAob3V0cHV0KS4gUGxlYXNlIGJlIHN1cmUgdG8gcmV0dXJuIGRhdGEgZm9sbG93aW5nIHRoZSBzaGFwZSBvZiB0aGUgc2NoZW1hIHBhc3NlZCB0byBgZGF0YVNjaGVtYWAgbWV0aG9kLlwiXG5cdFx0KTtcblx0XHR0aGlzLm5hbWUgPSBcIkFjdGlvbk91dHB1dERhdGFFcnJvclwiO1xuXHRcdHRoaXMudmFsaWRhdGlvbkVycm9ycyA9IHZhbGlkYXRpb25FcnJvcnM7XG5cdH1cbn07XG5cbi8vIHNyYy9hY3Rpb24tYnVpbGRlci50c1xuZnVuY3Rpb24gYWN0aW9uQnVpbGRlcihhcmdzKSB7XG5cdGNvbnN0IGJpbmRBcmdzU2NoZW1hcyA9IGFyZ3MuYmluZEFyZ3NTY2hlbWFzID8/IFtdO1xuXHRmdW5jdGlvbiBidWlsZEFjdGlvbih7IHdpdGhTdGF0ZSB9KSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGFjdGlvbjogKHNlcnZlckNvZGVGbiwgdXRpbHMpID0+IHtcblx0XHRcdFx0cmV0dXJuIGFzeW5jICguLi5jbGllbnRJbnB1dHMpID0+IHtcblx0XHRcdFx0XHRsZXQgY3VycmVudEN0eCA9IHt9O1xuXHRcdFx0XHRcdGNvbnN0IG1pZGRsZXdhcmVSZXN1bHQgPSB7IHN1Y2Nlc3M6IGZhbHNlIH07XG5cdFx0XHRcdFx0bGV0IHByZXZSZXN1bHQgPSB2b2lkIDA7XG5cdFx0XHRcdFx0Y29uc3QgcGFyc2VkSW5wdXREYXRhcyA9IFtdO1xuXHRcdFx0XHRcdGxldCBmcmFtZXdvcmtFcnJvciA9IG51bGw7XG5cdFx0XHRcdFx0aWYgKHdpdGhTdGF0ZSkge1xuXHRcdFx0XHRcdFx0cHJldlJlc3VsdCA9IGNsaWVudElucHV0cy5zcGxpY2UoYmluZEFyZ3NTY2hlbWFzLmxlbmd0aCwgMSlbMF07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChiaW5kQXJnc1NjaGVtYXMubGVuZ3RoICsgMSA+IGNsaWVudElucHV0cy5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdGNsaWVudElucHV0cy5wdXNoKHZvaWQgMCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNvbnN0IGV4ZWN1dGVNaWRkbGV3YXJlU3RhY2sgPSBhc3luYyAoaWR4ID0gMCkgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKGZyYW1ld29ya0Vycm9yKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGNvbnN0IG1pZGRsZXdhcmVGbiA9IGFyZ3MubWlkZGxld2FyZUZuc1tpZHhdO1xuXHRcdFx0XHRcdFx0bWlkZGxld2FyZVJlc3VsdC5jdHggPSBjdXJyZW50Q3R4O1xuXHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0aWYgKGlkeCA9PT0gMCkge1xuXHRcdFx0XHRcdFx0XHRcdGlmIChhcmdzLm1ldGFkYXRhU2NoZW1hKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjb25zdCBwYXJzZWRNZCA9IGF3YWl0IGFyZ3MudmFsaWRhdGlvbkFkYXB0ZXIudmFsaWRhdGUoYXJncy5tZXRhZGF0YVNjaGVtYSwgYXJncy5tZXRhZGF0YSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIXBhcnNlZE1kLnN1Y2Nlc3MpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IEFjdGlvbk1ldGFkYXRhVmFsaWRhdGlvbkVycm9yKGJ1aWxkVmFsaWRhdGlvbkVycm9ycyhwYXJzZWRNZC5pc3N1ZXMpKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0aWYgKG1pZGRsZXdhcmVGbikge1xuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IG1pZGRsZXdhcmVGbih7XG5cdFx0XHRcdFx0XHRcdFx0XHRjbGllbnRJbnB1dDogY2xpZW50SW5wdXRzLmF0KC0xKSxcblx0XHRcdFx0XHRcdFx0XHRcdC8vIHBhc3MgcmF3IGNsaWVudCBpbnB1dFxuXHRcdFx0XHRcdFx0XHRcdFx0YmluZEFyZ3NDbGllbnRJbnB1dHM6IGJpbmRBcmdzU2NoZW1hcy5sZW5ndGggPyBjbGllbnRJbnB1dHMuc2xpY2UoMCwgLTEpIDogW10sXG5cdFx0XHRcdFx0XHRcdFx0XHRjdHg6IGN1cnJlbnRDdHgsXG5cdFx0XHRcdFx0XHRcdFx0XHRtZXRhZGF0YTogYXJncy5tZXRhZGF0YSxcblx0XHRcdFx0XHRcdFx0XHRcdG5leHQ6IGFzeW5jIChuZXh0T3B0cykgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRjdXJyZW50Q3R4ID0gZGVlcG1lcmdlKGN1cnJlbnRDdHgsIG5leHRPcHRzPy5jdHggPz8ge30pO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRhd2FpdCBleGVjdXRlTWlkZGxld2FyZVN0YWNrKGlkeCArIDEpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gbWlkZGxld2FyZVJlc3VsdDtcblx0XHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgcGFyc2VkSW5wdXRzID0gYXdhaXQgUHJvbWlzZS5hbGwoXG5cdFx0XHRcdFx0XHRcdFx0XHRjbGllbnRJbnB1dHMubWFwKGFzeW5jIChpbnB1dCwgaSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoaSA9PT0gY2xpZW50SW5wdXRzLmxlbmd0aCAtIDEpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAodHlwZW9mIGFyZ3MuaW5wdXRTY2hlbWFGbiA9PT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c3VjY2VzczogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGF0YTogdm9pZCAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGFyZ3MudmFsaWRhdGlvbkFkYXB0ZXIudmFsaWRhdGUoYXdhaXQgYXJncy5pbnB1dFNjaGVtYUZuKCksIGlucHV0KTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gYXJncy52YWxpZGF0aW9uQWRhcHRlci52YWxpZGF0ZShiaW5kQXJnc1NjaGVtYXNbaV0sIGlucHV0KTtcblx0XHRcdFx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHRsZXQgaGFzQmluZFZhbGlkYXRpb25FcnJvcnMgPSBmYWxzZTtcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBiaW5kQXJnc1ZhbGlkYXRpb25FcnJvcnMgPSBBcnJheShwYXJzZWRJbnB1dHMubGVuZ3RoIC0gMSkuZmlsbCh7fSk7XG5cdFx0XHRcdFx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBwYXJzZWRJbnB1dHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnN0IHBhcnNlZElucHV0ID0gcGFyc2VkSW5wdXRzW2ldO1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKHBhcnNlZElucHV0LnN1Y2Nlc3MpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0cGFyc2VkSW5wdXREYXRhcy5wdXNoKHBhcnNlZElucHV0LmRhdGEpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKGkgPCBwYXJzZWRJbnB1dHMubGVuZ3RoIC0gMSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJpbmRBcmdzVmFsaWRhdGlvbkVycm9yc1tpXSA9IGJ1aWxkVmFsaWRhdGlvbkVycm9ycyhwYXJzZWRJbnB1dC5pc3N1ZXMpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGhhc0JpbmRWYWxpZGF0aW9uRXJyb3JzID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb25zdCB2YWxpZGF0aW9uRXJyb3JzID0gYnVpbGRWYWxpZGF0aW9uRXJyb3JzKHBhcnNlZElucHV0Lmlzc3Vlcyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0bWlkZGxld2FyZVJlc3VsdC52YWxpZGF0aW9uRXJyb3JzID0gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YXJncy5oYW5kbGVWYWxpZGF0aW9uRXJyb3JzU2hhcGUodmFsaWRhdGlvbkVycm9ycywge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjbGllbnRJbnB1dDogY2xpZW50SW5wdXRzLmF0KC0xKSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YmluZEFyZ3NDbGllbnRJbnB1dHM6IGJpbmRBcmdzU2NoZW1hcy5sZW5ndGggPyBjbGllbnRJbnB1dHMuc2xpY2UoMCwgLTEpIDogW10sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGN0eDogY3VycmVudEN0eCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0bWV0YWRhdGE6IGFyZ3MubWV0YWRhdGEsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0aWYgKGhhc0JpbmRWYWxpZGF0aW9uRXJyb3JzKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRtaWRkbGV3YXJlUmVzdWx0LmJpbmRBcmdzVmFsaWRhdGlvbkVycm9ycyA9IGF3YWl0IFByb21pc2UucmVzb2x2ZShcblx0XHRcdFx0XHRcdFx0XHRcdFx0YXJncy5oYW5kbGVCaW5kQXJnc1ZhbGlkYXRpb25FcnJvcnNTaGFwZShiaW5kQXJnc1ZhbGlkYXRpb25FcnJvcnMsIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjbGllbnRJbnB1dDogY2xpZW50SW5wdXRzLmF0KC0xKSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRiaW5kQXJnc0NsaWVudElucHV0czogYmluZEFyZ3NTY2hlbWFzLmxlbmd0aCA/IGNsaWVudElucHV0cy5zbGljZSgwLCAtMSkgOiBbXSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjdHg6IGN1cnJlbnRDdHgsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0bWV0YWRhdGE6IGFyZ3MubWV0YWRhdGEsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRpZiAobWlkZGxld2FyZVJlc3VsdC52YWxpZGF0aW9uRXJyb3JzIHx8IG1pZGRsZXdhcmVSZXN1bHQuYmluZEFyZ3NWYWxpZGF0aW9uRXJyb3JzKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IHNjZkFyZ3MgPSBbXTtcblx0XHRcdFx0XHRcdFx0XHRzY2ZBcmdzWzBdID0ge1xuXHRcdFx0XHRcdFx0XHRcdFx0cGFyc2VkSW5wdXQ6IHBhcnNlZElucHV0RGF0YXMuYXQoLTEpLFxuXHRcdFx0XHRcdFx0XHRcdFx0YmluZEFyZ3NQYXJzZWRJbnB1dHM6IHBhcnNlZElucHV0RGF0YXMuc2xpY2UoMCwgLTEpLFxuXHRcdFx0XHRcdFx0XHRcdFx0Y2xpZW50SW5wdXQ6IGNsaWVudElucHV0cy5hdCgtMSksXG5cdFx0XHRcdFx0XHRcdFx0XHRiaW5kQXJnc0NsaWVudElucHV0czogYmluZEFyZ3NTY2hlbWFzLmxlbmd0aCA/IGNsaWVudElucHV0cy5zbGljZSgwLCAtMSkgOiBbXSxcblx0XHRcdFx0XHRcdFx0XHRcdGN0eDogY3VycmVudEN0eCxcblx0XHRcdFx0XHRcdFx0XHRcdG1ldGFkYXRhOiBhcmdzLm1ldGFkYXRhLFxuXHRcdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRcdFx0aWYgKHdpdGhTdGF0ZSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0c2NmQXJnc1sxXSA9IHsgcHJldlJlc3VsdDogc3RydWN0dXJlZENsb25lKHByZXZSZXN1bHQpIH07XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IGRhdGEgPSBhd2FpdCBzZXJ2ZXJDb2RlRm4oLi4uc2NmQXJncyk7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKHR5cGVvZiBhcmdzLm91dHB1dFNjaGVtYSAhPT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgcGFyc2VkRGF0YSA9IGF3YWl0IGFyZ3MudmFsaWRhdGlvbkFkYXB0ZXIudmFsaWRhdGUoYXJncy5vdXRwdXRTY2hlbWEsIGRhdGEpO1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCFwYXJzZWREYXRhLnN1Y2Nlc3MpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IEFjdGlvbk91dHB1dERhdGFWYWxpZGF0aW9uRXJyb3IoYnVpbGRWYWxpZGF0aW9uRXJyb3JzKHBhcnNlZERhdGEuaXNzdWVzKSk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdG1pZGRsZXdhcmVSZXN1bHQuc3VjY2VzcyA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdFx0bWlkZGxld2FyZVJlc3VsdC5kYXRhID0gZGF0YTtcblx0XHRcdFx0XHRcdFx0XHRtaWRkbGV3YXJlUmVzdWx0LnBhcnNlZElucHV0ID0gcGFyc2VkSW5wdXREYXRhcy5hdCgtMSk7XG5cdFx0XHRcdFx0XHRcdFx0bWlkZGxld2FyZVJlc3VsdC5iaW5kQXJnc1BhcnNlZElucHV0cyA9IHBhcnNlZElucHV0RGF0YXMuc2xpY2UoMCwgLTEpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChpc0ZyYW1ld29ya0Vycm9yKGUpKSB7XG5cdFx0XHRcdFx0XHRcdFx0bWlkZGxld2FyZVJlc3VsdC5zdWNjZXNzID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0XHRmcmFtZXdvcmtFcnJvciA9IGU7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdGlmIChlIGluc3RhbmNlb2YgQWN0aW9uU2VydmVyVmFsaWRhdGlvbkVycm9yKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgdmUgPSBlLnZhbGlkYXRpb25FcnJvcnM7XG5cdFx0XHRcdFx0XHRcdFx0bWlkZGxld2FyZVJlc3VsdC52YWxpZGF0aW9uRXJyb3JzID0gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKFxuXHRcdFx0XHRcdFx0XHRcdFx0YXJncy5oYW5kbGVWYWxpZGF0aW9uRXJyb3JzU2hhcGUodmUsIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xpZW50SW5wdXQ6IGNsaWVudElucHV0cy5hdCgtMSksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGJpbmRBcmdzQ2xpZW50SW5wdXRzOiBiaW5kQXJnc1NjaGVtYXMubGVuZ3RoID8gY2xpZW50SW5wdXRzLnNsaWNlKDAsIC0xKSA6IFtdLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjdHg6IGN1cnJlbnRDdHgsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG1ldGFkYXRhOiBhcmdzLm1ldGFkYXRhLFxuXHRcdFx0XHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IGVycm9yID0gaXNFcnJvcihlKSA/IGUgOiBuZXcgRXJyb3IoREVGQVVMVF9TRVJWRVJfRVJST1JfTUVTU0FHRSk7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgcmV0dXJuZWRFcnJvciA9IGF3YWl0IFByb21pc2UucmVzb2x2ZShcblx0XHRcdFx0XHRcdFx0XHRcdGFyZ3MuaGFuZGxlU2VydmVyRXJyb3IoZXJyb3IsIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xpZW50SW5wdXQ6IGNsaWVudElucHV0cy5hdCgtMSksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIHBhc3MgcmF3IGNsaWVudCBpbnB1dFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRiaW5kQXJnc0NsaWVudElucHV0czogYmluZEFyZ3NTY2hlbWFzLmxlbmd0aCA/IGNsaWVudElucHV0cy5zbGljZSgwLCAtMSkgOiBbXSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y3R4OiBjdXJyZW50Q3R4LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRtZXRhZGF0YTogYXJncy5tZXRhZGF0YSxcblx0XHRcdFx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHRtaWRkbGV3YXJlUmVzdWx0LnNlcnZlckVycm9yID0gcmV0dXJuZWRFcnJvcjtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0YXdhaXQgZXhlY3V0ZU1pZGRsZXdhcmVTdGFjaygpO1xuXHRcdFx0XHRcdGNvbnN0IGNhbGxiYWNrUHJvbWlzZXMgPSBbXTtcblx0XHRcdFx0XHRpZiAoZnJhbWV3b3JrRXJyb3IpIHtcblx0XHRcdFx0XHRcdGNhbGxiYWNrUHJvbWlzZXMucHVzaChcblx0XHRcdFx0XHRcdFx0dXRpbHM/Lm9uU3VjY2Vzcz8uKHtcblx0XHRcdFx0XHRcdFx0XHRkYXRhOiB2b2lkIDAsXG5cdFx0XHRcdFx0XHRcdFx0bWV0YWRhdGE6IGFyZ3MubWV0YWRhdGEsXG5cdFx0XHRcdFx0XHRcdFx0Y3R4OiBjdXJyZW50Q3R4LFxuXHRcdFx0XHRcdFx0XHRcdGNsaWVudElucHV0OiBjbGllbnRJbnB1dHMuYXQoLTEpLFxuXHRcdFx0XHRcdFx0XHRcdGJpbmRBcmdzQ2xpZW50SW5wdXRzOiBiaW5kQXJnc1NjaGVtYXMubGVuZ3RoID8gY2xpZW50SW5wdXRzLnNsaWNlKDAsIC0xKSA6IFtdLFxuXHRcdFx0XHRcdFx0XHRcdHBhcnNlZElucHV0OiBwYXJzZWRJbnB1dERhdGFzLmF0KC0xKSxcblx0XHRcdFx0XHRcdFx0XHRiaW5kQXJnc1BhcnNlZElucHV0czogcGFyc2VkSW5wdXREYXRhcy5zbGljZSgwLCAtMSksXG5cdFx0XHRcdFx0XHRcdFx0aGFzUmVkaXJlY3RlZDogaXNSZWRpcmVjdEVycm9yKGZyYW1ld29ya0Vycm9yKSxcblx0XHRcdFx0XHRcdFx0XHRoYXNOb3RGb3VuZDogaXNOb3RGb3VuZEVycm9yKGZyYW1ld29ya0Vycm9yKSxcblx0XHRcdFx0XHRcdFx0XHRoYXNGb3JiaWRkZW46IGlzRm9yYmlkZGVuRXJyb3IoZnJhbWV3b3JrRXJyb3IpLFxuXHRcdFx0XHRcdFx0XHRcdGhhc1VuYXV0aG9yaXplZDogaXNVbmF1dGhvcml6ZWRFcnJvcihmcmFtZXdvcmtFcnJvciksXG5cdFx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0Y2FsbGJhY2tQcm9taXNlcy5wdXNoKFxuXHRcdFx0XHRcdFx0XHR1dGlscz8ub25TZXR0bGVkPy4oe1xuXHRcdFx0XHRcdFx0XHRcdG1ldGFkYXRhOiBhcmdzLm1ldGFkYXRhLFxuXHRcdFx0XHRcdFx0XHRcdGN0eDogY3VycmVudEN0eCxcblx0XHRcdFx0XHRcdFx0XHRjbGllbnRJbnB1dDogY2xpZW50SW5wdXRzLmF0KC0xKSxcblx0XHRcdFx0XHRcdFx0XHRiaW5kQXJnc0NsaWVudElucHV0czogYmluZEFyZ3NTY2hlbWFzLmxlbmd0aCA/IGNsaWVudElucHV0cy5zbGljZSgwLCAtMSkgOiBbXSxcblx0XHRcdFx0XHRcdFx0XHRyZXN1bHQ6IHt9LFxuXHRcdFx0XHRcdFx0XHRcdGhhc1JlZGlyZWN0ZWQ6IGlzUmVkaXJlY3RFcnJvcihmcmFtZXdvcmtFcnJvciksXG5cdFx0XHRcdFx0XHRcdFx0aGFzTm90Rm91bmQ6IGlzTm90Rm91bmRFcnJvcihmcmFtZXdvcmtFcnJvciksXG5cdFx0XHRcdFx0XHRcdFx0aGFzRm9yYmlkZGVuOiBpc0ZvcmJpZGRlbkVycm9yKGZyYW1ld29ya0Vycm9yKSxcblx0XHRcdFx0XHRcdFx0XHRoYXNVbmF1dGhvcml6ZWQ6IGlzVW5hdXRob3JpemVkRXJyb3IoZnJhbWV3b3JrRXJyb3IpLFxuXHRcdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdGF3YWl0IFByb21pc2UuYWxsKGNhbGxiYWNrUHJvbWlzZXMpO1xuXHRcdFx0XHRcdFx0dGhyb3cgZnJhbWV3b3JrRXJyb3I7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNvbnN0IGFjdGlvblJlc3VsdCA9IHt9O1xuXHRcdFx0XHRcdGlmICh0eXBlb2YgbWlkZGxld2FyZVJlc3VsdC52YWxpZGF0aW9uRXJyb3JzICE9PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHRcdFx0XHRpZiAod2lubmluZ0Jvb2xlYW4oYXJncy50aHJvd1ZhbGlkYXRpb25FcnJvcnMsIHV0aWxzPy50aHJvd1ZhbGlkYXRpb25FcnJvcnMpKSB7XG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBBY3Rpb25WYWxpZGF0aW9uRXJyb3IobWlkZGxld2FyZVJlc3VsdC52YWxpZGF0aW9uRXJyb3JzKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGFjdGlvblJlc3VsdC52YWxpZGF0aW9uRXJyb3JzID0gbWlkZGxld2FyZVJlc3VsdC52YWxpZGF0aW9uRXJyb3JzO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAodHlwZW9mIG1pZGRsZXdhcmVSZXN1bHQuYmluZEFyZ3NWYWxpZGF0aW9uRXJyb3JzICE9PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHRcdFx0XHRhY3Rpb25SZXN1bHQuYmluZEFyZ3NWYWxpZGF0aW9uRXJyb3JzID0gbWlkZGxld2FyZVJlc3VsdC5iaW5kQXJnc1ZhbGlkYXRpb25FcnJvcnM7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICh0eXBlb2YgbWlkZGxld2FyZVJlc3VsdC5zZXJ2ZXJFcnJvciAhPT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0XHRcdFx0aWYgKHV0aWxzPy50aHJvd1NlcnZlckVycm9yKSB7XG5cdFx0XHRcdFx0XHRcdHRocm93IG1pZGRsZXdhcmVSZXN1bHQuc2VydmVyRXJyb3I7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRhY3Rpb25SZXN1bHQuc2VydmVyRXJyb3IgPSBtaWRkbGV3YXJlUmVzdWx0LnNlcnZlckVycm9yO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAobWlkZGxld2FyZVJlc3VsdC5zdWNjZXNzKSB7XG5cdFx0XHRcdFx0XHRpZiAodHlwZW9mIG1pZGRsZXdhcmVSZXN1bHQuZGF0YSAhPT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0XHRcdFx0XHRhY3Rpb25SZXN1bHQuZGF0YSA9IG1pZGRsZXdhcmVSZXN1bHQuZGF0YTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGNhbGxiYWNrUHJvbWlzZXMucHVzaChcblx0XHRcdFx0XHRcdFx0dXRpbHM/Lm9uU3VjY2Vzcz8uKHtcblx0XHRcdFx0XHRcdFx0XHRtZXRhZGF0YTogYXJncy5tZXRhZGF0YSxcblx0XHRcdFx0XHRcdFx0XHRjdHg6IGN1cnJlbnRDdHgsXG5cdFx0XHRcdFx0XHRcdFx0ZGF0YTogYWN0aW9uUmVzdWx0LmRhdGEsXG5cdFx0XHRcdFx0XHRcdFx0Y2xpZW50SW5wdXQ6IGNsaWVudElucHV0cy5hdCgtMSksXG5cdFx0XHRcdFx0XHRcdFx0YmluZEFyZ3NDbGllbnRJbnB1dHM6IGJpbmRBcmdzU2NoZW1hcy5sZW5ndGggPyBjbGllbnRJbnB1dHMuc2xpY2UoMCwgLTEpIDogW10sXG5cdFx0XHRcdFx0XHRcdFx0cGFyc2VkSW5wdXQ6IHBhcnNlZElucHV0RGF0YXMuYXQoLTEpLFxuXHRcdFx0XHRcdFx0XHRcdGJpbmRBcmdzUGFyc2VkSW5wdXRzOiBwYXJzZWRJbnB1dERhdGFzLnNsaWNlKDAsIC0xKSxcblx0XHRcdFx0XHRcdFx0XHRoYXNSZWRpcmVjdGVkOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0XHRoYXNOb3RGb3VuZDogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdFx0aGFzRm9yYmlkZGVuOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0XHRoYXNVbmF1dGhvcml6ZWQ6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Y2FsbGJhY2tQcm9taXNlcy5wdXNoKFxuXHRcdFx0XHRcdFx0XHR1dGlscz8ub25FcnJvcj8uKHtcblx0XHRcdFx0XHRcdFx0XHRtZXRhZGF0YTogYXJncy5tZXRhZGF0YSxcblx0XHRcdFx0XHRcdFx0XHRjdHg6IGN1cnJlbnRDdHgsXG5cdFx0XHRcdFx0XHRcdFx0Y2xpZW50SW5wdXQ6IGNsaWVudElucHV0cy5hdCgtMSksXG5cdFx0XHRcdFx0XHRcdFx0YmluZEFyZ3NDbGllbnRJbnB1dHM6IGJpbmRBcmdzU2NoZW1hcy5sZW5ndGggPyBjbGllbnRJbnB1dHMuc2xpY2UoMCwgLTEpIDogW10sXG5cdFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGFjdGlvblJlc3VsdCxcblx0XHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNhbGxiYWNrUHJvbWlzZXMucHVzaChcblx0XHRcdFx0XHRcdHV0aWxzPy5vblNldHRsZWQ/Lih7XG5cdFx0XHRcdFx0XHRcdG1ldGFkYXRhOiBhcmdzLm1ldGFkYXRhLFxuXHRcdFx0XHRcdFx0XHRjdHg6IGN1cnJlbnRDdHgsXG5cdFx0XHRcdFx0XHRcdGNsaWVudElucHV0OiBjbGllbnRJbnB1dHMuYXQoLTEpLFxuXHRcdFx0XHRcdFx0XHRiaW5kQXJnc0NsaWVudElucHV0czogYmluZEFyZ3NTY2hlbWFzLmxlbmd0aCA/IGNsaWVudElucHV0cy5zbGljZSgwLCAtMSkgOiBbXSxcblx0XHRcdFx0XHRcdFx0cmVzdWx0OiBhY3Rpb25SZXN1bHQsXG5cdFx0XHRcdFx0XHRcdGhhc1JlZGlyZWN0ZWQ6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRoYXNOb3RGb3VuZDogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdGhhc0ZvcmJpZGRlbjogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdGhhc1VuYXV0aG9yaXplZDogZmFsc2UsXG5cdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0YXdhaXQgUHJvbWlzZS5hbGwoY2FsbGJhY2tQcm9taXNlcyk7XG5cdFx0XHRcdFx0cmV0dXJuIGFjdGlvblJlc3VsdDtcblx0XHRcdFx0fTtcblx0XHRcdH0sXG5cdFx0fTtcblx0fVxuXHRyZXR1cm4ge1xuXHRcdC8qKlxuXHRcdCAqIERlZmluZSB0aGUgYWN0aW9uLlxuXHRcdCAqIEBwYXJhbSBzZXJ2ZXJDb2RlRm4gQ29kZSB0aGF0IHdpbGwgYmUgZXhlY3V0ZWQgb24gdGhlICoqc2VydmVyIHNpZGUqKlxuXHRcdCAqXG5cdFx0ICoge0BsaW5rIGh0dHBzOi8vbmV4dC1zYWZlLWFjdGlvbi5kZXYvZG9jcy9kZWZpbmUtYWN0aW9ucy9pbnN0YW5jZS1tZXRob2RzI2FjdGlvbi0tc3RhdGVhY3Rpb24gU2VlIGRvY3MgZm9yIG1vcmUgaW5mb3JtYXRpb259XG5cdFx0ICovXG5cdFx0YWN0aW9uOiBidWlsZEFjdGlvbih7IHdpdGhTdGF0ZTogZmFsc2UgfSkuYWN0aW9uLFxuXHRcdC8qKlxuXHRcdCAqIERlZmluZSB0aGUgc3RhdGVmdWwgYWN0aW9uLiBUbyBiZSB1c2VkIHdpdGggdGhlIFtgdXNlU3RhdGVBY3Rpb25gXShodHRwczovL25leHQtc2FmZS1hY3Rpb24uZGV2L2RvY3MvZXhlY3V0ZS1hY3Rpb25zL2hvb2tzL3VzZXN0YXRlYWN0aW9uKSBob29rLlxuXHRcdCAqIEBwYXJhbSBzZXJ2ZXJDb2RlRm4gQ29kZSB0aGF0IHdpbGwgYmUgZXhlY3V0ZWQgb24gdGhlICoqc2VydmVyIHNpZGUqKlxuXHRcdCAqXG5cdFx0ICoge0BsaW5rIGh0dHBzOi8vbmV4dC1zYWZlLWFjdGlvbi5kZXYvZG9jcy9kZWZpbmUtYWN0aW9ucy9pbnN0YW5jZS1tZXRob2RzI2FjdGlvbi0tc3RhdGVhY3Rpb24gU2VlIGRvY3MgZm9yIG1vcmUgaW5mb3JtYXRpb259XG5cdFx0ICovXG5cdFx0c3RhdGVBY3Rpb246IGJ1aWxkQWN0aW9uKHsgd2l0aFN0YXRlOiB0cnVlIH0pLmFjdGlvbixcblx0fTtcbn1cblxuLy8gc3JjL3NhZmUtYWN0aW9uLWNsaWVudC50c1xudmFyIFNhZmVBY3Rpb25DbGllbnQgPSBjbGFzcyBfU2FmZUFjdGlvbkNsaWVudCB7XG5cdCNoYW5kbGVTZXJ2ZXJFcnJvcjtcblx0I21pZGRsZXdhcmVGbnM7XG5cdCNtZXRhZGF0YVNjaGVtYTtcblx0I21ldGFkYXRhO1xuXHQjaW5wdXRTY2hlbWFGbjtcblx0I291dHB1dFNjaGVtYTtcblx0I2N0eFR5cGU7XG5cdCNiaW5kQXJnc1NjaGVtYXM7XG5cdCN2YWxpZGF0aW9uQWRhcHRlcjtcblx0I2hhbmRsZVZhbGlkYXRpb25FcnJvcnNTaGFwZTtcblx0I2hhbmRsZUJpbmRBcmdzVmFsaWRhdGlvbkVycm9yc1NoYXBlO1xuXHQjZGVmYXVsdFZhbGlkYXRpb25FcnJvcnNTaGFwZTtcblx0I3Rocm93VmFsaWRhdGlvbkVycm9ycztcblx0Y29uc3RydWN0b3Iob3B0cykge1xuXHRcdHRoaXMuI21pZGRsZXdhcmVGbnMgPSBvcHRzLm1pZGRsZXdhcmVGbnM7XG5cdFx0dGhpcy4jaGFuZGxlU2VydmVyRXJyb3IgPSBvcHRzLmhhbmRsZVNlcnZlckVycm9yO1xuXHRcdHRoaXMuI21ldGFkYXRhU2NoZW1hID0gb3B0cy5tZXRhZGF0YVNjaGVtYTtcblx0XHR0aGlzLiNtZXRhZGF0YSA9IG9wdHMubWV0YWRhdGE7XG5cdFx0dGhpcy4jaW5wdXRTY2hlbWFGbiA9IG9wdHMuaW5wdXRTY2hlbWFGbiA/PyB2b2lkIDA7XG5cdFx0dGhpcy4jb3V0cHV0U2NoZW1hID0gb3B0cy5vdXRwdXRTY2hlbWE7XG5cdFx0dGhpcy4jYmluZEFyZ3NTY2hlbWFzID0gb3B0cy5iaW5kQXJnc1NjaGVtYXMgPz8gW107XG5cdFx0dGhpcy4jdmFsaWRhdGlvbkFkYXB0ZXIgPSBvcHRzLnZhbGlkYXRpb25BZGFwdGVyO1xuXHRcdHRoaXMuI2N0eFR5cGUgPSBvcHRzLmN0eFR5cGU7XG5cdFx0dGhpcy4jaGFuZGxlVmFsaWRhdGlvbkVycm9yc1NoYXBlID0gb3B0cy5oYW5kbGVWYWxpZGF0aW9uRXJyb3JzU2hhcGU7XG5cdFx0dGhpcy4jaGFuZGxlQmluZEFyZ3NWYWxpZGF0aW9uRXJyb3JzU2hhcGUgPSBvcHRzLmhhbmRsZUJpbmRBcmdzVmFsaWRhdGlvbkVycm9yc1NoYXBlO1xuXHRcdHRoaXMuI2RlZmF1bHRWYWxpZGF0aW9uRXJyb3JzU2hhcGUgPSBvcHRzLmRlZmF1bHRWYWxpZGF0aW9uRXJyb3JzU2hhcGU7XG5cdFx0dGhpcy4jdGhyb3dWYWxpZGF0aW9uRXJyb3JzID0gb3B0cy50aHJvd1ZhbGlkYXRpb25FcnJvcnM7XG5cdH1cblx0LyoqXG5cdCAqIFVzZSBhIG1pZGRsZXdhcmUgZnVuY3Rpb24uXG5cdCAqIEBwYXJhbSBtaWRkbGV3YXJlRm4gTWlkZGxld2FyZSBmdW5jdGlvblxuXHQgKlxuXHQgKiB7QGxpbmsgaHR0cHM6Ly9uZXh0LXNhZmUtYWN0aW9uLmRldi9kb2NzL2RlZmluZS1hY3Rpb25zL2luc3RhbmNlLW1ldGhvZHMjdXNlIFNlZSBkb2NzIGZvciBtb3JlIGluZm9ybWF0aW9ufVxuXHQgKi9cblx0dXNlKG1pZGRsZXdhcmVGbikge1xuXHRcdHJldHVybiBuZXcgX1NhZmVBY3Rpb25DbGllbnQoe1xuXHRcdFx0bWlkZGxld2FyZUZuczogWy4uLnRoaXMuI21pZGRsZXdhcmVGbnMsIG1pZGRsZXdhcmVGbl0sXG5cdFx0XHRoYW5kbGVTZXJ2ZXJFcnJvcjogdGhpcy4jaGFuZGxlU2VydmVyRXJyb3IsXG5cdFx0XHRtZXRhZGF0YVNjaGVtYTogdGhpcy4jbWV0YWRhdGFTY2hlbWEsXG5cdFx0XHRtZXRhZGF0YTogdGhpcy4jbWV0YWRhdGEsXG5cdFx0XHRpbnB1dFNjaGVtYUZuOiB0aGlzLiNpbnB1dFNjaGVtYUZuLFxuXHRcdFx0b3V0cHV0U2NoZW1hOiB0aGlzLiNvdXRwdXRTY2hlbWEsXG5cdFx0XHRiaW5kQXJnc1NjaGVtYXM6IHRoaXMuI2JpbmRBcmdzU2NoZW1hcyxcblx0XHRcdHZhbGlkYXRpb25BZGFwdGVyOiB0aGlzLiN2YWxpZGF0aW9uQWRhcHRlcixcblx0XHRcdGhhbmRsZVZhbGlkYXRpb25FcnJvcnNTaGFwZTogdGhpcy4jaGFuZGxlVmFsaWRhdGlvbkVycm9yc1NoYXBlLFxuXHRcdFx0aGFuZGxlQmluZEFyZ3NWYWxpZGF0aW9uRXJyb3JzU2hhcGU6IHRoaXMuI2hhbmRsZUJpbmRBcmdzVmFsaWRhdGlvbkVycm9yc1NoYXBlLFxuXHRcdFx0Y3R4VHlwZToge30sXG5cdFx0XHRkZWZhdWx0VmFsaWRhdGlvbkVycm9yc1NoYXBlOiB0aGlzLiNkZWZhdWx0VmFsaWRhdGlvbkVycm9yc1NoYXBlLFxuXHRcdFx0dGhyb3dWYWxpZGF0aW9uRXJyb3JzOiB0aGlzLiN0aHJvd1ZhbGlkYXRpb25FcnJvcnMsXG5cdFx0fSk7XG5cdH1cblx0LyoqXG5cdCAqIERlZmluZSBtZXRhZGF0YSBmb3IgdGhlIGFjdGlvbi5cblx0ICogQHBhcmFtIGRhdGEgTWV0YWRhdGEgd2l0aCB0aGUgc2FtZSB0eXBlIGFzIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIFtgZGVmaW5lTWV0YWRhdGFTY2hlbWFgXShodHRwczovL25leHQtc2FmZS1hY3Rpb24uZGV2L2RvY3MvZGVmaW5lLWFjdGlvbnMvY3JlYXRlLXRoZS1jbGllbnQjZGVmaW5lbWV0YWRhdGFzY2hlbWEpIG9wdGlvbmFsIGluaXRpYWxpemF0aW9uIGZ1bmN0aW9uXG5cdCAqXG5cdCAqIHtAbGluayBodHRwczovL25leHQtc2FmZS1hY3Rpb24uZGV2L2RvY3MvZGVmaW5lLWFjdGlvbnMvaW5zdGFuY2UtbWV0aG9kcyNtZXRhZGF0YSBTZWUgZG9jcyBmb3IgbW9yZSBpbmZvcm1hdGlvbn1cblx0ICovXG5cdG1ldGFkYXRhKGRhdGEpIHtcblx0XHRyZXR1cm4gbmV3IF9TYWZlQWN0aW9uQ2xpZW50KHtcblx0XHRcdG1pZGRsZXdhcmVGbnM6IHRoaXMuI21pZGRsZXdhcmVGbnMsXG5cdFx0XHRoYW5kbGVTZXJ2ZXJFcnJvcjogdGhpcy4jaGFuZGxlU2VydmVyRXJyb3IsXG5cdFx0XHRtZXRhZGF0YVNjaGVtYTogdGhpcy4jbWV0YWRhdGFTY2hlbWEsXG5cdFx0XHRtZXRhZGF0YTogZGF0YSxcblx0XHRcdGlucHV0U2NoZW1hRm46IHRoaXMuI2lucHV0U2NoZW1hRm4sXG5cdFx0XHRiaW5kQXJnc1NjaGVtYXM6IHRoaXMuI2JpbmRBcmdzU2NoZW1hcyxcblx0XHRcdG91dHB1dFNjaGVtYTogdGhpcy4jb3V0cHV0U2NoZW1hLFxuXHRcdFx0dmFsaWRhdGlvbkFkYXB0ZXI6IHRoaXMuI3ZhbGlkYXRpb25BZGFwdGVyLFxuXHRcdFx0aGFuZGxlVmFsaWRhdGlvbkVycm9yc1NoYXBlOiB0aGlzLiNoYW5kbGVWYWxpZGF0aW9uRXJyb3JzU2hhcGUsXG5cdFx0XHRoYW5kbGVCaW5kQXJnc1ZhbGlkYXRpb25FcnJvcnNTaGFwZTogdGhpcy4jaGFuZGxlQmluZEFyZ3NWYWxpZGF0aW9uRXJyb3JzU2hhcGUsXG5cdFx0XHRjdHhUeXBlOiB7fSxcblx0XHRcdGRlZmF1bHRWYWxpZGF0aW9uRXJyb3JzU2hhcGU6IHRoaXMuI2RlZmF1bHRWYWxpZGF0aW9uRXJyb3JzU2hhcGUsXG5cdFx0XHR0aHJvd1ZhbGlkYXRpb25FcnJvcnM6IHRoaXMuI3Rocm93VmFsaWRhdGlvbkVycm9ycyxcblx0XHR9KTtcblx0fVxuXHQvKipcblx0ICogRGVmaW5lIHRoZSBpbnB1dCB2YWxpZGF0aW9uIHNjaGVtYSBmb3IgdGhlIGFjdGlvbi5cblx0ICogQHBhcmFtIGlucHV0U2NoZW1hIElucHV0IHZhbGlkYXRpb24gc2NoZW1hXG5cdCAqIEBwYXJhbSB1dGlscyBPcHRpb25hbCB1dGlscyBvYmplY3Rcblx0ICpcblx0ICoge0BsaW5rIGh0dHBzOi8vbmV4dC1zYWZlLWFjdGlvbi5kZXYvZG9jcy9kZWZpbmUtYWN0aW9ucy9jcmVhdGUtdGhlLWNsaWVudCNpbnB1dHNjaGVtYSBTZWUgZG9jcyBmb3IgbW9yZSBpbmZvcm1hdGlvbn1cblx0ICovXG5cdHNjaGVtYShpbnB1dFNjaGVtYSwgdXRpbHMpIHtcblx0XHRyZXR1cm4gbmV3IF9TYWZlQWN0aW9uQ2xpZW50KHtcblx0XHRcdG1pZGRsZXdhcmVGbnM6IHRoaXMuI21pZGRsZXdhcmVGbnMsXG5cdFx0XHRoYW5kbGVTZXJ2ZXJFcnJvcjogdGhpcy4jaGFuZGxlU2VydmVyRXJyb3IsXG5cdFx0XHRtZXRhZGF0YVNjaGVtYTogdGhpcy4jbWV0YWRhdGFTY2hlbWEsXG5cdFx0XHRtZXRhZGF0YTogdGhpcy4jbWV0YWRhdGEsXG5cdFx0XHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdFx0XHRpbnB1dFNjaGVtYUZuOlxuXHRcdFx0XHRpbnB1dFNjaGVtYVtTeW1ib2wudG9TdHJpbmdUYWddID09PSBcIkFzeW5jRnVuY3Rpb25cIlxuXHRcdFx0XHRcdD8gYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBwcmV2U2NoZW1hID0gYXdhaXQgdGhpcy4jaW5wdXRTY2hlbWFGbj8uKCk7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBpbnB1dFNjaGVtYShwcmV2U2NoZW1hKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHQ6IGFzeW5jICgpID0+IGlucHV0U2NoZW1hLFxuXHRcdFx0YmluZEFyZ3NTY2hlbWFzOiB0aGlzLiNiaW5kQXJnc1NjaGVtYXMsXG5cdFx0XHRvdXRwdXRTY2hlbWE6IHRoaXMuI291dHB1dFNjaGVtYSxcblx0XHRcdHZhbGlkYXRpb25BZGFwdGVyOiB0aGlzLiN2YWxpZGF0aW9uQWRhcHRlcixcblx0XHRcdGhhbmRsZVZhbGlkYXRpb25FcnJvcnNTaGFwZTogdXRpbHM/LmhhbmRsZVZhbGlkYXRpb25FcnJvcnNTaGFwZSA/PyB0aGlzLiNoYW5kbGVWYWxpZGF0aW9uRXJyb3JzU2hhcGUsXG5cdFx0XHRoYW5kbGVCaW5kQXJnc1ZhbGlkYXRpb25FcnJvcnNTaGFwZTogdGhpcy4jaGFuZGxlQmluZEFyZ3NWYWxpZGF0aW9uRXJyb3JzU2hhcGUsXG5cdFx0XHRjdHhUeXBlOiB7fSxcblx0XHRcdGRlZmF1bHRWYWxpZGF0aW9uRXJyb3JzU2hhcGU6IHRoaXMuI2RlZmF1bHRWYWxpZGF0aW9uRXJyb3JzU2hhcGUsXG5cdFx0XHR0aHJvd1ZhbGlkYXRpb25FcnJvcnM6IHRoaXMuI3Rocm93VmFsaWRhdGlvbkVycm9ycyxcblx0XHR9KTtcblx0fVxuXHQvKipcblx0ICogRGVmaW5lIHRoZSBiaW5kIGFyZ3MgaW5wdXQgdmFsaWRhdGlvbiBzY2hlbWEgZm9yIHRoZSBhY3Rpb24uXG5cdCAqIEBwYXJhbSBiaW5kQXJnc1NjaGVtYXMgQmluZCBhcmdzIGlucHV0IHZhbGlkYXRpb24gc2NoZW1hc1xuXHQgKiBAcGFyYW0gdXRpbHMgT3B0aW9uYWwgdXRpbHMgb2JqZWN0XG5cdCAqXG5cdCAqIHtAbGluayBodHRwczovL25leHQtc2FmZS1hY3Rpb24uZGV2L2RvY3MvZGVmaW5lLWFjdGlvbnMvaW5zdGFuY2UtbWV0aG9kcyNiaW5kYXJnc3NjaGVtYXMgU2VlIGRvY3MgZm9yIG1vcmUgaW5mb3JtYXRpb259XG5cdCAqL1xuXHRiaW5kQXJnc1NjaGVtYXMoYmluZEFyZ3NTY2hlbWFzLCB1dGlscykge1xuXHRcdHJldHVybiBuZXcgX1NhZmVBY3Rpb25DbGllbnQoe1xuXHRcdFx0bWlkZGxld2FyZUZuczogdGhpcy4jbWlkZGxld2FyZUZucyxcblx0XHRcdGhhbmRsZVNlcnZlckVycm9yOiB0aGlzLiNoYW5kbGVTZXJ2ZXJFcnJvcixcblx0XHRcdG1ldGFkYXRhU2NoZW1hOiB0aGlzLiNtZXRhZGF0YVNjaGVtYSxcblx0XHRcdG1ldGFkYXRhOiB0aGlzLiNtZXRhZGF0YSxcblx0XHRcdGlucHV0U2NoZW1hRm46IHRoaXMuI2lucHV0U2NoZW1hRm4sXG5cdFx0XHRiaW5kQXJnc1NjaGVtYXMsXG5cdFx0XHRvdXRwdXRTY2hlbWE6IHRoaXMuI291dHB1dFNjaGVtYSxcblx0XHRcdHZhbGlkYXRpb25BZGFwdGVyOiB0aGlzLiN2YWxpZGF0aW9uQWRhcHRlcixcblx0XHRcdGhhbmRsZVZhbGlkYXRpb25FcnJvcnNTaGFwZTogdGhpcy4jaGFuZGxlVmFsaWRhdGlvbkVycm9yc1NoYXBlLFxuXHRcdFx0aGFuZGxlQmluZEFyZ3NWYWxpZGF0aW9uRXJyb3JzU2hhcGU6XG5cdFx0XHRcdHV0aWxzPy5oYW5kbGVCaW5kQXJnc1ZhbGlkYXRpb25FcnJvcnNTaGFwZSA/PyB0aGlzLiNoYW5kbGVCaW5kQXJnc1ZhbGlkYXRpb25FcnJvcnNTaGFwZSxcblx0XHRcdGN0eFR5cGU6IHt9LFxuXHRcdFx0ZGVmYXVsdFZhbGlkYXRpb25FcnJvcnNTaGFwZTogdGhpcy4jZGVmYXVsdFZhbGlkYXRpb25FcnJvcnNTaGFwZSxcblx0XHRcdHRocm93VmFsaWRhdGlvbkVycm9yczogdGhpcy4jdGhyb3dWYWxpZGF0aW9uRXJyb3JzLFxuXHRcdH0pO1xuXHR9XG5cdC8qKlxuXHQgKiBEZWZpbmUgdGhlIG91dHB1dCBkYXRhIHZhbGlkYXRpb24gc2NoZW1hIGZvciB0aGUgYWN0aW9uLlxuXHQgKiBAcGFyYW0gc2NoZW1hIE91dHB1dCBkYXRhIHZhbGlkYXRpb24gc2NoZW1hXG5cdCAqXG5cdCAqIHtAbGluayBodHRwczovL25leHQtc2FmZS1hY3Rpb24uZGV2L2RvY3MvZGVmaW5lLWFjdGlvbnMvY3JlYXRlLXRoZS1jbGllbnQjb3V0cHV0c2NoZW1hIFNlZSBkb2NzIGZvciBtb3JlIGluZm9ybWF0aW9ufVxuXHQgKi9cblx0b3V0cHV0U2NoZW1hKGRhdGFTY2hlbWEpIHtcblx0XHRyZXR1cm4gbmV3IF9TYWZlQWN0aW9uQ2xpZW50KHtcblx0XHRcdG1pZGRsZXdhcmVGbnM6IHRoaXMuI21pZGRsZXdhcmVGbnMsXG5cdFx0XHRoYW5kbGVTZXJ2ZXJFcnJvcjogdGhpcy4jaGFuZGxlU2VydmVyRXJyb3IsXG5cdFx0XHRtZXRhZGF0YVNjaGVtYTogdGhpcy4jbWV0YWRhdGFTY2hlbWEsXG5cdFx0XHRtZXRhZGF0YTogdGhpcy4jbWV0YWRhdGEsXG5cdFx0XHRpbnB1dFNjaGVtYUZuOiB0aGlzLiNpbnB1dFNjaGVtYUZuLFxuXHRcdFx0YmluZEFyZ3NTY2hlbWFzOiB0aGlzLiNiaW5kQXJnc1NjaGVtYXMsXG5cdFx0XHRvdXRwdXRTY2hlbWE6IGRhdGFTY2hlbWEsXG5cdFx0XHR2YWxpZGF0aW9uQWRhcHRlcjogdGhpcy4jdmFsaWRhdGlvbkFkYXB0ZXIsXG5cdFx0XHRoYW5kbGVWYWxpZGF0aW9uRXJyb3JzU2hhcGU6IHRoaXMuI2hhbmRsZVZhbGlkYXRpb25FcnJvcnNTaGFwZSxcblx0XHRcdGhhbmRsZUJpbmRBcmdzVmFsaWRhdGlvbkVycm9yc1NoYXBlOiB0aGlzLiNoYW5kbGVCaW5kQXJnc1ZhbGlkYXRpb25FcnJvcnNTaGFwZSxcblx0XHRcdGN0eFR5cGU6IHt9LFxuXHRcdFx0ZGVmYXVsdFZhbGlkYXRpb25FcnJvcnNTaGFwZTogdGhpcy4jZGVmYXVsdFZhbGlkYXRpb25FcnJvcnNTaGFwZSxcblx0XHRcdHRocm93VmFsaWRhdGlvbkVycm9yczogdGhpcy4jdGhyb3dWYWxpZGF0aW9uRXJyb3JzLFxuXHRcdH0pO1xuXHR9XG5cdC8qKlxuXHQgKiBEZWZpbmUgdGhlIGFjdGlvbi5cblx0ICogQHBhcmFtIHNlcnZlckNvZGVGbiBDb2RlIHRoYXQgd2lsbCBiZSBleGVjdXRlZCBvbiB0aGUgKipzZXJ2ZXIgc2lkZSoqXG5cdCAqIEBwYXJhbSBbY2JdIE9wdGlvbmFsIGNhbGxiYWNrcyB0aGF0IHdpbGwgYmUgY2FsbGVkIGFmdGVyIGFjdGlvbiBleGVjdXRpb24sIG9uIHRoZSBzZXJ2ZXIuXG5cdCAqXG5cdCAqIHtAbGluayBodHRwczovL25leHQtc2FmZS1hY3Rpb24uZGV2L2RvY3MvZGVmaW5lLWFjdGlvbnMvaW5zdGFuY2UtbWV0aG9kcyNhY3Rpb24tLXN0YXRlYWN0aW9uIFNlZSBkb2NzIGZvciBtb3JlIGluZm9ybWF0aW9ufVxuXHQgKi9cblx0YWN0aW9uKHNlcnZlckNvZGVGbiwgdXRpbHMpIHtcblx0XHRyZXR1cm4gYWN0aW9uQnVpbGRlcih7XG5cdFx0XHRoYW5kbGVTZXJ2ZXJFcnJvcjogdGhpcy4jaGFuZGxlU2VydmVyRXJyb3IsXG5cdFx0XHRtaWRkbGV3YXJlRm5zOiB0aGlzLiNtaWRkbGV3YXJlRm5zLFxuXHRcdFx0Y3R4VHlwZTogdGhpcy4jY3R4VHlwZSxcblx0XHRcdG1ldGFkYXRhU2NoZW1hOiB0aGlzLiNtZXRhZGF0YVNjaGVtYSxcblx0XHRcdG1ldGFkYXRhOiB0aGlzLiNtZXRhZGF0YSxcblx0XHRcdGlucHV0U2NoZW1hRm46IHRoaXMuI2lucHV0U2NoZW1hRm4sXG5cdFx0XHRiaW5kQXJnc1NjaGVtYXM6IHRoaXMuI2JpbmRBcmdzU2NoZW1hcyxcblx0XHRcdG91dHB1dFNjaGVtYTogdGhpcy4jb3V0cHV0U2NoZW1hLFxuXHRcdFx0dmFsaWRhdGlvbkFkYXB0ZXI6IHRoaXMuI3ZhbGlkYXRpb25BZGFwdGVyLFxuXHRcdFx0aGFuZGxlVmFsaWRhdGlvbkVycm9yc1NoYXBlOiB0aGlzLiNoYW5kbGVWYWxpZGF0aW9uRXJyb3JzU2hhcGUsXG5cdFx0XHRoYW5kbGVCaW5kQXJnc1ZhbGlkYXRpb25FcnJvcnNTaGFwZTogdGhpcy4jaGFuZGxlQmluZEFyZ3NWYWxpZGF0aW9uRXJyb3JzU2hhcGUsXG5cdFx0XHR0aHJvd1ZhbGlkYXRpb25FcnJvcnM6IHRoaXMuI3Rocm93VmFsaWRhdGlvbkVycm9ycyxcblx0XHR9KS5hY3Rpb24oc2VydmVyQ29kZUZuLCB1dGlscyk7XG5cdH1cblx0LyoqXG5cdCAqIERlZmluZSB0aGUgc3RhdGVmdWwgYWN0aW9uLlxuXHQgKiBUbyBiZSB1c2VkIHdpdGggdGhlIFtgdXNlU3RhdGVBY3Rpb25gXShodHRwczovL25leHQtc2FmZS1hY3Rpb24uZGV2L2RvY3MvZXhlY3V0ZS1hY3Rpb25zL2hvb2tzL3VzZXN0YXRlYWN0aW9uKSBob29rLlxuXHQgKiBAcGFyYW0gc2VydmVyQ29kZUZuIENvZGUgdGhhdCB3aWxsIGJlIGV4ZWN1dGVkIG9uIHRoZSAqKnNlcnZlciBzaWRlKipcblx0ICogQHBhcmFtIFtjYl0gT3B0aW9uYWwgY2FsbGJhY2tzIHRoYXQgd2lsbCBiZSBjYWxsZWQgYWZ0ZXIgYWN0aW9uIGV4ZWN1dGlvbiwgb24gdGhlIHNlcnZlci5cblx0ICpcblx0ICoge0BsaW5rIGh0dHBzOi8vbmV4dC1zYWZlLWFjdGlvbi5kZXYvZG9jcy9kZWZpbmUtYWN0aW9ucy9pbnN0YW5jZS1tZXRob2RzI2FjdGlvbi0tc3RhdGVhY3Rpb24gU2VlIGRvY3MgZm9yIG1vcmUgaW5mb3JtYXRpb259XG5cdCAqL1xuXHRzdGF0ZUFjdGlvbihzZXJ2ZXJDb2RlRm4sIHV0aWxzKSB7XG5cdFx0cmV0dXJuIGFjdGlvbkJ1aWxkZXIoe1xuXHRcdFx0aGFuZGxlU2VydmVyRXJyb3I6IHRoaXMuI2hhbmRsZVNlcnZlckVycm9yLFxuXHRcdFx0bWlkZGxld2FyZUZuczogdGhpcy4jbWlkZGxld2FyZUZucyxcblx0XHRcdGN0eFR5cGU6IHRoaXMuI2N0eFR5cGUsXG5cdFx0XHRtZXRhZGF0YVNjaGVtYTogdGhpcy4jbWV0YWRhdGFTY2hlbWEsXG5cdFx0XHRtZXRhZGF0YTogdGhpcy4jbWV0YWRhdGEsXG5cdFx0XHRpbnB1dFNjaGVtYUZuOiB0aGlzLiNpbnB1dFNjaGVtYUZuLFxuXHRcdFx0YmluZEFyZ3NTY2hlbWFzOiB0aGlzLiNiaW5kQXJnc1NjaGVtYXMsXG5cdFx0XHRvdXRwdXRTY2hlbWE6IHRoaXMuI291dHB1dFNjaGVtYSxcblx0XHRcdHZhbGlkYXRpb25BZGFwdGVyOiB0aGlzLiN2YWxpZGF0aW9uQWRhcHRlcixcblx0XHRcdGhhbmRsZVZhbGlkYXRpb25FcnJvcnNTaGFwZTogdGhpcy4jaGFuZGxlVmFsaWRhdGlvbkVycm9yc1NoYXBlLFxuXHRcdFx0aGFuZGxlQmluZEFyZ3NWYWxpZGF0aW9uRXJyb3JzU2hhcGU6IHRoaXMuI2hhbmRsZUJpbmRBcmdzVmFsaWRhdGlvbkVycm9yc1NoYXBlLFxuXHRcdFx0dGhyb3dWYWxpZGF0aW9uRXJyb3JzOiB0aGlzLiN0aHJvd1ZhbGlkYXRpb25FcnJvcnMsXG5cdFx0fSkuc3RhdGVBY3Rpb24oc2VydmVyQ29kZUZuLCB1dGlscyk7XG5cdH1cbn07XG5cbi8vIHNyYy9taWRkbGV3YXJlLnRzXG52YXIgY3JlYXRlTWlkZGxld2FyZSA9ICgpID0+IHtcblx0cmV0dXJuIHtcblx0XHRkZWZpbmU6IChtaWRkbGV3YXJlRm4pID0+IG1pZGRsZXdhcmVGbixcblx0fTtcbn07XG5cbi8vIHNyYy9pbmRleC50c1xudmFyIGNyZWF0ZVNhZmVBY3Rpb25DbGllbnQgPSAoY3JlYXRlT3B0cykgPT4ge1xuXHRjb25zdCBoYW5kbGVTZXJ2ZXJFcnJvciA9XG5cdFx0Y3JlYXRlT3B0cz8uaGFuZGxlU2VydmVyRXJyb3IgfHxcblx0XHQoKGUpID0+IHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoXCJBY3Rpb24gZXJyb3I6XCIsIGUubWVzc2FnZSk7XG5cdFx0XHRyZXR1cm4gREVGQVVMVF9TRVJWRVJfRVJST1JfTUVTU0FHRTtcblx0XHR9KTtcblx0cmV0dXJuIG5ldyBTYWZlQWN0aW9uQ2xpZW50KHtcblx0XHRtaWRkbGV3YXJlRm5zOiBbYXN5bmMgKHsgbmV4dCB9KSA9PiBuZXh0KHsgY3R4OiB7fSB9KV0sXG5cdFx0aGFuZGxlU2VydmVyRXJyb3IsXG5cdFx0aW5wdXRTY2hlbWFGbjogdm9pZCAwLFxuXHRcdGJpbmRBcmdzU2NoZW1hczogW10sXG5cdFx0b3V0cHV0U2NoZW1hOiB2b2lkIDAsXG5cdFx0dmFsaWRhdGlvbkFkYXB0ZXI6IGNyZWF0ZU9wdHM/LnZhbGlkYXRpb25BZGFwdGVyID8/IHpvZEFkYXB0ZXIoKSxcblx0XHQvLyB1c2Ugem9kIGFkYXB0ZXIgYnkgZGVmYXVsdFxuXHRcdGN0eFR5cGU6IHt9LFxuXHRcdG1ldGFkYXRhU2NoZW1hOiBjcmVhdGVPcHRzPy5kZWZpbmVNZXRhZGF0YVNjaGVtYT8uKCkgPz8gdm9pZCAwLFxuXHRcdG1ldGFkYXRhOiB2b2lkIDAsXG5cdFx0ZGVmYXVsdFZhbGlkYXRpb25FcnJvcnNTaGFwZTogY3JlYXRlT3B0cz8uZGVmYXVsdFZhbGlkYXRpb25FcnJvcnNTaGFwZSA/PyBcImZvcm1hdHRlZFwiLFxuXHRcdHRocm93VmFsaWRhdGlvbkVycm9yczogQm9vbGVhbihjcmVhdGVPcHRzPy50aHJvd1ZhbGlkYXRpb25FcnJvcnMpLFxuXHRcdGhhbmRsZVZhbGlkYXRpb25FcnJvcnNTaGFwZTogYXN5bmMgKHZlKSA9PlxuXHRcdFx0Y3JlYXRlT3B0cz8uZGVmYXVsdFZhbGlkYXRpb25FcnJvcnNTaGFwZSA9PT0gXCJmbGF0dGVuZWRcIlxuXHRcdFx0XHQ/IGZsYXR0ZW5WYWxpZGF0aW9uRXJyb3JzKHZlKVxuXHRcdFx0XHQ6IGZvcm1hdFZhbGlkYXRpb25FcnJvcnModmUpLFxuXHRcdGhhbmRsZUJpbmRBcmdzVmFsaWRhdGlvbkVycm9yc1NoYXBlOiBhc3luYyAodmUpID0+XG5cdFx0XHRjcmVhdGVPcHRzPy5kZWZhdWx0VmFsaWRhdGlvbkVycm9yc1NoYXBlID09PSBcImZsYXR0ZW5lZFwiXG5cdFx0XHRcdD8gZmxhdHRlbkJpbmRBcmdzVmFsaWRhdGlvbkVycm9ycyh2ZSlcblx0XHRcdFx0OiBmb3JtYXRCaW5kQXJnc1ZhbGlkYXRpb25FcnJvcnModmUpLFxuXHR9KTtcbn07XG5leHBvcnQge1xuXHRBY3Rpb25NZXRhZGF0YVZhbGlkYXRpb25FcnJvcixcblx0QWN0aW9uT3V0cHV0RGF0YVZhbGlkYXRpb25FcnJvcixcblx0QWN0aW9uVmFsaWRhdGlvbkVycm9yLFxuXHRERUZBVUxUX1NFUlZFUl9FUlJPUl9NRVNTQUdFLFxuXHRjcmVhdGVNaWRkbGV3YXJlLFxuXHRjcmVhdGVTYWZlQWN0aW9uQ2xpZW50LFxuXHRmbGF0dGVuQmluZEFyZ3NWYWxpZGF0aW9uRXJyb3JzLFxuXHRmbGF0dGVuVmFsaWRhdGlvbkVycm9ycyxcblx0Zm9ybWF0QmluZEFyZ3NWYWxpZGF0aW9uRXJyb3JzLFxuXHRmb3JtYXRWYWxpZGF0aW9uRXJyb3JzLFxuXHRyZXR1cm5WYWxpZGF0aW9uRXJyb3JzLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/next-safe-action/dist/index.mjs\n");

/***/ })

};
;